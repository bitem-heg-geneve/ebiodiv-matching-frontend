(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"043b":function(e,t,n){e.exports=n.p+"img/icon_reduce.72cce8bc.png"},"04d1":function(e,t,n){var r=n("342f"),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},"07ac":function(e,t,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"09e2":function(e,t,n){},"0cd8":function(e,t,n){e.exports=n.p+"img/icon_status_not-done.f28ad4c6.png"},"113d":function(e,t,n){e.exports=n.p+"img/icon_todo.00bfd349.png"},1276:function(e,t,n){"use strict";var r=n("2ba4"),i=n("c65b"),o=n("e330"),s=n("d784"),a=n("44e7"),c=n("825a"),u=n("1d80"),l=n("4840"),d=n("8aa5"),f=n("50c4"),h=n("577e"),p=n("dc4a"),v=n("4dae"),m=n("14c3"),y=n("9263"),_=n("9f7f"),g=n("d039"),b=_.UNSUPPORTED_Y,k=4294967295,O=Math.min,x=[].push,C=o(/./.exec),w=o(x),E=o("".slice),P=!g((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));s("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=h(u(this)),s=void 0===n?k:n>>>0;if(0===s)return[];if(void 0===e)return[o];if(!a(e))return i(t,o,e,s);var c,l,d,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,_=new RegExp(e.source,p+"g");while(c=i(y,_,o)){if(l=_.lastIndex,l>m&&(w(f,E(o,m,c.index)),c.length>1&&c.index<o.length&&r(x,f,v(c,1)),d=c[0].length,m=l,f.length>=s))break;_.lastIndex===c.index&&_.lastIndex++}return m===o.length?!d&&C(_,"")||w(f,""):w(f,E(o,m)),f.length>s?v(f,0,s):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=u(this),s=void 0==t?void 0:p(t,e);return s?i(s,t,r,n):i(o,h(r),t,n)},function(e,r){var i=c(this),s=h(e),a=n(o,i,s,r,o!==t);if(a.done)return a.value;var u=l(i,RegExp),p=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(b?"g":"y"),y=new u(b?"^(?:"+i.source+")":i,v),_=void 0===r?k:r>>>0;if(0===_)return[];if(0===s.length)return null===m(y,s)?[s]:[];var g=0,x=0,C=[];while(x<s.length){y.lastIndex=b?0:x;var P,S=m(y,b?E(s,x):s);if(null===S||(P=O(f(y.lastIndex+(b?x:0)),s.length))===g)x=d(s,x,p);else{if(w(C,E(s,g,x)),C.length===_)return C;for(var A=1;A<=S.length-1;A++)if(w(C,S[A]),C.length===_)return C;x=g=P}}return w(C,E(s,g)),C}]}),!P,b)},"1bc0":function(e,t,n){e.exports=n.p+"img/icon_status_partial.aa333dfb.png"},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("5a34"),s=n("1d80"),a=n("577e"),c=n("ab13"),u=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},2613:function(e,t,n){var r={"./icon_status_finished.png":"f94a","./icon_status_not-done.png":"0cd8","./icon_status_partial.png":"1bc0"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="2613"},"286e":function(e,t,n){"use strict";n("beea")},"28b9":function(e,t,n){e.exports=n.p+"img/icon_expand.01503fbf.png"},"2af1":function(e,t,n){var r=n("23e7"),i=n("f748");r({target:"Math",stat:!0},{sign:i})},"2d96":function(e,t,n){e.exports=n.p+"img/icon_close.0cd9cdfd.png"},3049:function(e,t,n){"use strict";n("09e2")},"34a7":function(e,t,n){},3952:function(e,t,n){e.exports=n.p+"img/icon_link.0979c4cd.png"},3963:function(e,t,n){"use strict";n("6f92")},"396c":function(e,t,n){},"436e":function(e,t,n){e.exports=n.p+"img/icon_more.4319a10b.png"},"466d":function(e,t,n){"use strict";var r=n("c65b"),i=n("d784"),o=n("825a"),s=n("50c4"),a=n("577e"),c=n("1d80"),u=n("dc4a"),l=n("8aa5"),d=n("14c3");i("match",(function(e,t,n){return[function(t){var n=c(this),i=void 0==t?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](a(n))},function(e){var r=o(this),i=a(e),c=n(t,r,i);if(c.done)return c.value;if(!r.global)return d(r,i);var u=r.unicode;r.lastIndex=0;var f,h=[],p=0;while(null!==(f=d(r,i))){var v=a(f[0]);h[p]=v,""===v&&(r.lastIndex=l(i,s(r.lastIndex),u)),p++}return 0===p?null:h}]}))},4971:function(e,t,n){(function(t,r){e.exports=r(n("2b0e"))})("undefined"!==typeof self&&self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"091b":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),e.exports=t},"24fb":function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"===typeof btoa){var o=i(r),s=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([o]).join("\n")}return[n].join("\n")}function i(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=r(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"===typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},2638:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)}var i=["attrs","props","domProps"],o=["class","style","directives"],s=["on","nativeOn"],a=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==i.indexOf(n))e[n]=r({},e[n],t[n]);else if(-1!==o.indexOf(n)){var a=e[n]instanceof Array?e[n]:[e[n]],u=t[n]instanceof Array?t[n]:[t[n]];e[n]=a.concat(u)}else if(-1!==s.indexOf(n))for(var l in t[n])if(e[n][l]){var d=e[n][l]instanceof Array?e[n][l]:[e[n][l]],f=t[n][l]instanceof Array?t[n][l]:[t[n][l]];e[n][l]=d.concat(f)}else e[n][l]=t[n][l];else if("hook"==n)for(var h in t[n])e[n][h]=e[n][h]?c(e[n][h],t[n][h]):t[n][h];else e[n]=t[n];else e[n]=t[n];return e}),{})},c=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=a},"499e":function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a=o[1],c=o[2],u=o[3],l={id:e+":"+i,css:a,media:c,sourceMap:u};r[s]?r[s].parts.push(l):n.push(r[s]={id:s,parts:[l]})}return n}n.r(t),n.d(t,"default",(function(){return p}));var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,c=0,u=!1,l=function(){},d=null,f="data-vue-ssr-id",h="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,i){u=n,d=i||{};var s=r(e,t);return v(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i],c=o[a.id];c.refs--,n.push(c)}for(t?(s=r(e,t),v(s)):s=[],i=0;i<n.length;i++)if(c=n[i],0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete o[c.id]}}}function v(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(y(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(y(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:s}}}}function m(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function y(e){var t,n,r=document.querySelector("style["+f+'~="'+e.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(h){var i=c++;r=a||(a=m()),t=g.bind(null,r,i,!1),n=g.bind(null,r,i,!0)}else r=m(),t=b.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function g(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function b(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(f,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},"4abb":function(e,t,n){var r=n("7a57");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("b2af7572",r,!0,{sourceMap:!1,shadowMode:!1})},"4ed8":function(e,t,n){var r=n("091b");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("2f6bee1a",r,!0,{sourceMap:!1,shadowMode:!1})},"556c":function(e,t,n){var r=n("eef2");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("1209fd47",r,!0,{sourceMap:!1,shadowMode:!1})},"65d9":function(e,t,n){"use strict";
/**
  * vue-class-component v7.0.1
  * (c) 2015-present Evan You
  * @license MIT
  */function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("8bbf")),o="undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function s(e,t){a(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(n){a(e.prototype,t.prototype,n)})),Object.getOwnPropertyNames(t).forEach((function(n){a(e,t,n)}))}function a(e,t,n){var r=n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t);r.forEach((function(r){var i=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,i,e,n):Reflect.defineMetadata(r,i,e)}))}var c={__proto__:[]},u=c instanceof Array;function l(e){return function(t,n,r){var i="function"===typeof t?t:t.constructor;i.__decorators__||(i.__decorators__=[]),"number"!==typeof r&&(r=void 0),i.__decorators__.push((function(t){return e(t,n,r)}))}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.extend({mixins:e})}function f(e){var t=typeof e;return null==e||"object"!==t&&"function"!==t}function h(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var i={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(i[e]=r[e])})),i}var p=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function v(e,t){void 0===t&&(t={}),t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(p.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"===typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){var t;return t={},t[e]=r.value,t}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return h(this,e)}});var r=e.__decorators__;r&&(r.forEach((function(e){return e(t)})),delete e.__decorators__);var a=Object.getPrototypeOf(e.prototype),c=a instanceof i?a.constructor:i,u=c.extend(t);return m(u,e,c),o&&s(u,e),u}function m(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if("prototype"!==r){var i=Object.getOwnPropertyDescriptor(e,r);if(!i||i.configurable){var o=Object.getOwnPropertyDescriptor(t,r);if(!u){if("cid"===r)return;var s=Object.getOwnPropertyDescriptor(n,r);if(!f(o.value)&&s&&s.value===o.value)return}Object.defineProperty(e,r,o)}}}))}function y(e){return"function"===typeof e?v(e):function(t){return v(t,e)}}y.registerHooks=function(e){p.push.apply(p,e)},t.default=y,t.createDecorator=l,t.mixins=d},"7a57":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),e.exports=t},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(h.stack)||s.exec(h.stack),c=a&&a[1]||!1,u=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");c===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var f=0;f<d.length;f++){if("interactive"===d[f].readyState)return d[f];if(d[f].src===c)return d[f];if(c===l&&d[f].innerHTML&&d[f].innerHTML.trim()===i)return d[f]}return null}}return e}))},"8bbf":function(t,n){t.exports=e},eef2:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),e.exports=t},fb15:function(e,t,n){"use strict";if(n.r(t),n.d(t,"ERROR_TYPE",(function(){return Q})),n.d(t,"VueSliderMark",(function(){return $})),n.d(t,"VueSliderDot",(function(){return S})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=n("2638"),a=n.n(s);function c(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}var u=n("8bbf"),l=n.n(u),d=n("65d9"),f=n.n(d);function h(e,t){return void 0===t&&(t={}),Object(d["createDecorator"])((function(n,r){(n.props||(n.props={}))[r]=t,n.model={prop:r,event:e||r}}))}function p(e){return void 0===e&&(e={}),Object(d["createDecorator"])((function(t,n){(t.props||(t.props={}))[n]=e}))}function v(e,t){void 0===t&&(t={});var n=t.deep,r=void 0!==n&&n,i=t.immediate,o=void 0!==i&&i;return Object(d["createDecorator"])((function(t,n){"object"!==typeof t.watch&&(t.watch=Object.create(null));var i=t.watch;"object"!==typeof i[e]||Array.isArray(i[e])?"undefined"===typeof i[e]&&(i[e]=[]):i[e]=[i[e]],i[e].push({handler:n,deep:r,immediate:o})}))}function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function O(e){var t=w();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}n("4ed8");var P=function(){var e=function(e){b(n,e);var t=O(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"dragStart",value:function(e){if(this.disabled)return!1;this.$emit("drag-start")}},{key:"render",value:function(){var e=arguments[0];return e("div",{ref:"dot",class:this.dotClasses,attrs:{"aria-valuetext":this.tooltipValue},on:{mousedown:this.dragStart,touchstart:this.dragStart}},[this.$slots.dot||e("div",{class:this.handleClasses,style:this.dotStyle}),"none"!==this.tooltip?e("div",{class:this.tooltipClasses},[this.$slots.tooltip||e("div",{class:this.tooltipInnerClasses,style:this.tooltipStyle},[e("span",{class:"vue-slider-dot-tooltip-text"},[this.tooltipValue])])]):null])}},{key:"dotClasses",get:function(){return["vue-slider-dot",{"vue-slider-dot-hover":"hover"===this.tooltip||"active"===this.tooltip,"vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]}},{key:"handleClasses",get:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]}},{key:"tooltipClasses",get:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]}},{key:"tooltipInnerClasses",get:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]}},{key:"showTooltip",get:function(){switch(this.tooltip){case"always":return!0;case"none":return!1;case"focus":case"active":return!!this.focus;default:return!1}}},{key:"tooltipValue",get:function(){return this.tooltipFormatter?"string"===typeof this.tooltipFormatter?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}}]),n}(l.a);return c([p({default:0})],e.prototype,"value",void 0),c([p()],e.prototype,"tooltip",void 0),c([p()],e.prototype,"dotStyle",void 0),c([p()],e.prototype,"tooltipStyle",void 0),c([p({type:String,validator:function(e){return["top","right","bottom","left"].indexOf(e)>-1},required:!0})],e.prototype,"tooltipPlacement",void 0),c([p({type:[String,Function]})],e.prototype,"tooltipFormatter",void 0),c([p({type:Boolean,default:!1})],e.prototype,"focus",void 0),c([p({default:!1})],e.prototype,"disabled",void 0),e=c([f.a],e),e}(),S=P;function A(e){return A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function T(e){var t=F();return function(){var n,r=M(e);if(t){var i=M(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==A(t)&&"function"!==typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}n("556c");var B,V=function(){var e=function(e){I(n,e);var t=T(n);function n(){return j(this,n),t.apply(this,arguments)}return D(n,[{key:"labelClickHandle",value:function(e){e.stopPropagation(),this.$emit("pressLabel",this.mark.pos)}},{key:"render",value:function(){var e=arguments[0],t=this.mark;return e("div",{class:this.marksClasses},[this.$slots.step||e("div",{class:this.stepClasses,style:[this.stepStyle,t.style,t.active?this.stepActiveStyle:null,t.active?t.activeStyle:null]}),this.hideLabel?null:this.$slots.label||e("div",{class:this.labelClasses,style:[this.labelStyle,t.labelStyle,t.active?this.labelActiveStyle:null,t.active?t.labelActiveStyle:null],on:{click:this.labelClickHandle}},[t.label])])}},{key:"marksClasses",get:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]}},{key:"stepClasses",get:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]}},{key:"labelClasses",get:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}}]),n}(l.a);return c([p({required:!0})],e.prototype,"mark",void 0),c([p(Boolean)],e.prototype,"hideLabel",void 0),c([p()],e.prototype,"stepStyle",void 0),c([p()],e.prototype,"stepActiveStyle",void 0),c([p()],e.prototype,"labelStyle",void 0),c([p()],e.prototype,"labelActiveStyle",void 0),e=c([f.a],e),e}(),$=V,U=function(e){return"number"===typeof e?"".concat(e,"px"):e},K=function(e){var t=document.documentElement,n=document.body,r=e.getBoundingClientRect(),i={y:r.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||n.clientTop||0),x:r.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||n.clientLeft||0)};return i},Y=function(e,t,n){var r="targetTouches"in e?e.targetTouches[0]:e,i=K(t),o={x:r.pageX-i.x,y:r.pageY-i.y};return{x:n?t.offsetWidth-o.x:o.x,y:n?t.offsetHeight-o.y:o.y}};(function(e){e[e["PAGE_UP"]=33]="PAGE_UP",e[e["PAGE_DOWN"]=34]="PAGE_DOWN",e[e["END"]=35]="END",e[e["HOME"]=36]="HOME",e[e["LEFT"]=37]="LEFT",e[e["UP"]=38]="UP",e[e["RIGHT"]=39]="RIGHT",e[e["DOWN"]=40]="DOWN"})(B||(B={}));var z=function(e,t){if(t.hook){var n=t.hook(e);if("function"===typeof n)return n;if(!n)return null}switch(e.keyCode){case B.UP:return function(e){return"ttb"===t.direction?e-1:e+1};case B.RIGHT:return function(e){return"rtl"===t.direction?e-1:e+1};case B.DOWN:return function(e){return"ttb"===t.direction?e+1:e-1};case B.LEFT:return function(e){return"rtl"===t.direction?e+1:e-1};case B.END:return function(){return t.max};case B.HOME:return function(){return t.min};case B.PAGE_UP:return function(e){return e+10};case B.PAGE_DOWN:return function(e){return e-10};default:return null}};function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),e}var G,Q,Z=function(){function e(t){J(this,e),this.num=t}return W(e,[{key:"decimal",value:function(e,t){var n=this.num,r=this.getDecimalLen(n),i=this.getDecimalLen(e),o=0;switch(t){case"+":o=this.getExponent(r,i),this.num=(this.safeRoundUp(n,o)+this.safeRoundUp(e,o))/o;break;case"-":o=this.getExponent(r,i),this.num=(this.safeRoundUp(n,o)-this.safeRoundUp(e,o))/o;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(n,this.getExponent(r)),this.safeRoundUp(e,this.getExponent(i)))/this.getExponent(r+i);break;case"/":o=this.getExponent(r,i),this.num=this.safeRoundUp(n,o)/this.safeRoundUp(e,o);break;case"%":o=this.getExponent(r,i),this.num=this.safeRoundUp(n,o)%this.safeRoundUp(e,o)/o;break}return this}},{key:"plus",value:function(e){return this.decimal(e,"+")}},{key:"minus",value:function(e){return this.decimal(e,"-")}},{key:"multiply",value:function(e){return this.decimal(e,"*")}},{key:"divide",value:function(e){return this.decimal(e,"/")}},{key:"remainder",value:function(e){return this.decimal(e,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(e){var t="".concat(e).split("e");return("".concat(t[0]).split(".")[1]||"").length-(t[1]?+t[1]:0)}},{key:"getExponent",value:function(e,t){return Math.pow(10,void 0!==t?Math.max(e,t):e)}},{key:"safeRoundUp",value:function(e,t){return Math.round(e*t)}}]),e}();function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t){return ie(e)||re(e,t)||ae(e,t)||ne()}function ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function re(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function ie(e){if(Array.isArray(e))return e}function oe(e){return ue(e)||ce(e)||ae(e)||se()}function se(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ae(e,t){if(e){if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function ce(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ue(e){if(Array.isArray(e))return le(e)}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e[e["VALUE"]=1]="VALUE",e[e["INTERVAL"]=2]="INTERVAL",e[e["MIN"]=3]="MIN",e[e["MAX"]=4]="MAX",e[e["ORDER"]=5]="ORDER"})(Q||(Q={}));var ve=(G={},pe(G,Q.VALUE,'The type of the "value" is illegal'),pe(G,Q.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),pe(G,Q.MIN,'The "value" must be greater than or equal to the "min".'),pe(G,Q.MAX,'The "value" must be less than or equal to the "max".'),pe(G,Q.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),G),me=function(){function e(t){de(this,e),this.dotsPos=[],this.dotsValue=[],this.cacheRangeDir={},this.data=t.data,this.max=t.max,this.min=t.min,this.interval=t.interval,this.order=t.order,this.marks=t.marks,this.included=t.included,this.process=t.process,this.adsorb=t.adsorb,this.dotOptions=t.dotOptions,this.onError=t.onError,this.order?(this.minRange=t.minRange||0,this.maxRange=t.maxRange||0,this.enableCross=t.enableCross,this.fixed=t.fixed):((t.minRange||t.maxRange||!t.enableCross||t.fixed)&&this.emitError(Q.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(t.value)}return he(e,[{key:"setValue",value:function(e){var t=this;this.setDotsValue(Array.isArray(e)?this.order?oe(e).sort((function(e,n){return t.getIndexByValue(e)-t.getIndexByValue(n)})):oe(e):[e],!0)}},{key:"setDotsValue",value:function(e,t){this.dotsValue=e,t&&this.syncDotsPos()}},{key:"setDotsPos",value:function(e){var t=this,n=this.order?oe(e).sort((function(e,t){return e-t})):e;this.dotsPos=n,this.setDotsValue(n.map((function(e){return t.getValueByPos(e)})),this.adsorb)}},{key:"getValueByPos",value:function(e){var t=this.parsePos(e);if(this.included){var n=100;this.markList.forEach((function(r){var i=Math.abs(r.pos-e);i<n&&(n=i,t=r.value)}))}return t}},{key:"syncDotsPos",value:function(){var e=this;this.dotsPos=this.dotsValue.map((function(t){return e.parseValue(t)}))}},{key:"getRecentDot",value:function(e){var t=this,n=this.dotsPos.filter((function(e,n){return!(t.getDotOption(n)&&t.getDotOption(n).disabled)})).map((function(t){return Math.abs(t-e)}));return n.indexOf(Math.min.apply(Math,oe(n)))}},{key:"getIndexByValue",value:function(e){return this.data?this.data.indexOf(e):new Z(+e).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(e){return e<0?e=0:e>this.total&&(e=this.total),this.data?this.data[e]:new Z(e).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(e,t){e=this.getValidPos(e,t).pos;var n=e-this.dotsPos[t];if(n){var r=new Array(this.dotsPos.length);this.fixed?r=this.getFixedChangePosArr(n,t):this.minRange||this.maxRange?r=this.getLimitRangeChangePosArr(e,n,t):r[t]=n,this.setDotsPos(this.dotsPos.map((function(e,t){return e+(r[t]||0)})))}}},{key:"getFixedChangePosArr",value:function(e,t){var n=this;return this.dotsPos.forEach((function(r,i){if(i!==t){var o=n.getValidPos(r+e,i),s=o.pos,a=o.inRange;a||(e=Math.min(Math.abs(s-r),Math.abs(e))*(e<0?-1:1))}})),this.dotsPos.map((function(t){return e}))}},{key:"getLimitRangeChangePosArr",value:function(e,t,n){var r=this,i=[{index:n,changePos:t}],o=t;return[this.minRange,this.maxRange].forEach((function(s,a){if(!s)return!1;var c=0===a,u=t>0,l=0;l=c?u?1:-1:u?-1:1;var d=function(e,t){var n=Math.abs(e-t);return c?n<r.minRangeDir:n>r.maxRangeDir},f=n+l,h=r.dotsPos[f],p=e;while(r.isPos(h)&&d(h,p)){var v=r.getValidPos(h+o,f),m=v.pos;i.push({index:f,changePos:m-h}),f+=l,p=m,h=r.dotsPos[f]}})),this.dotsPos.map((function(e,t){var n=i.filter((function(e){return e.index===t}));return n.length?n[0].changePos:0}))}},{key:"isPos",value:function(e){return"number"===typeof e}},{key:"getValidPos",value:function(e,t){var n=this.valuePosRange[t],r=!0;return e<n[0]?(e=n[0],r=!1):e>n[1]&&(e=n[1],r=!1),{pos:e,inRange:r}}},{key:"parseValue",value:function(e){if(this.data)e=this.data.indexOf(e);else if("number"===typeof e||"string"===typeof e){if(e=+e,e<this.min)return this.emitError(Q.MIN),0;if(e>this.max)return this.emitError(Q.MAX),0;if("number"!==typeof e||e!==e)return this.emitError(Q.VALUE),0;e=new Z(e).minus(this.min).divide(this.interval).toNumber()}var t=new Z(e).multiply(this.gap).toNumber();return t<0?0:t>100?100:t}},{key:"parsePos",value:function(e){var t=Math.round(e/this.gap);return this.getValueByIndex(t)}},{key:"isActiveByPos",value:function(e){return this.processArray.some((function(t){var n=te(t,2),r=n[0],i=n[1];return e>=r&&e<=i}))}},{key:"getValues",value:function(){if(this.data)return this.data;for(var e=[],t=0;t<=this.total;t++)e.push(new Z(t).multiply(this.interval).plus(this.min).toNumber());return e}},{key:"getRangeDir",value:function(e){return e?new Z(e).divide(new Z(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(e){this.onError&&this.onError(e,ve[e])}},{key:"getDotOption",value:function(e){return Array.isArray(this.dotOptions)?this.dotOptions[e]:this.dotOptions}},{key:"getDotRange",value:function(e,t,n){if(!this.dotOptions)return n;var r=this.getDotOption(e);return r&&void 0!==r[t]?this.parseValue(r[t]):n}},{key:"markList",get:function(){var e=this;if(!this.marks)return[];var t=function(t,n){var r=e.parseValue(t);return ee({pos:r,value:t,label:t,active:e.isActiveByPos(r)},n)};return!0===this.marks?this.getValues().map((function(e){return t(e)})):"[object Object]"===Object.prototype.toString.call(this.marks)?Object.keys(this.marks).sort((function(e,t){return+e-+t})).map((function(n){var r=e.marks[n];return t(n,"string"!==typeof r?r:{label:r})})):Array.isArray(this.marks)?this.marks.map((function(e){return t(e)})):"function"===typeof this.marks?this.getValues().map((function(t){return{value:t,result:e.marks(t)}})).filter((function(e){var t=e.result;return!!t})).map((function(e){var n=e.value,r=e.result;return t(n,r)})):[]}},{key:"processArray",get:function(){if(this.process){if("function"===typeof this.process)return this.process(this.dotsPos);if(1===this.dotsPos.length)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,oe(this.dotsPos)),Math.max.apply(Math,oe(this.dotsPos))]]}return[]}},{key:"total",get:function(){var e=0;return e=this.data?this.data.length-1:new Z(this.max).minus(this.min).divide(this.interval).toNumber(),e-Math.floor(e)!==0?(this.emitError(Q.INTERVAL),0):e}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"valuePosRange",get:function(){var e=this,t=this.dotsPos,n=[];return t.forEach((function(r,i){n.push([Math.max(e.minRange?e.minRangeDir*i:0,e.enableCross?0:t[i-1]||0,e.getDotRange(i,"min",0)),Math.min(e.minRange?100-e.minRangeDir*(t.length-1-i):100,e.enableCross?100:t[i+1]||100,e.getDotRange(i,"max",100))])})),n}},{key:"dotsIndex",get:function(){var e=this;return this.dotsValue.map((function(t){return e.getIndexByValue(t)}))}}]),e}();function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),e}var be=function(){function e(t){ye(this,e),this.states=0,this.map=t}return ge(e,[{key:"add",value:function(e){this.states|=e}},{key:"delete",value:function(e){this.states&=~e}},{key:"toggle",value:function(e){this.has(e)?this.delete(e):this.add(e)}},{key:"has",value:function(e){return!!(this.states&e)}}]),e}();function ke(e,t){return Ce(e)||xe(e,t)||je(e,t)||Oe()}function Oe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xe(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function Ce(e){if(Array.isArray(e))return e}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){return De(e)||Re(e)||je(e)||Ae()}function Ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function je(e,t){if(e){if("string"===typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Re(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function De(e){if(Array.isArray(e))return Ie(e)}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e){return Le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t,n){return t&&qe(e.prototype,t),n&&qe(e,n),e}function Fe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}function Me(e,t){return Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Me(e,t)}function Be(e){var t=Ue();return function(){var n,r=Ke(e);if(t){var i=Ke(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==Le(t)&&"function"!==typeof t?$e(e):t}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}n("4abb");var Ye={None:0,Drag:2,Focus:4},ze=4,Je=function(){var e=function(e){Fe(n,e);var t=Be(n);function n(){var e;return Te(this,n),e=t.apply(this,arguments),e.states=new be(Ye),e.scale=1,e.focusDotIndex=0,e}return Ne(n,[{key:"isObjectData",value:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)}},{key:"isObjectArrayData",value:function(e){return!!e&&Array.isArray(e)&&e.length>0&&"object"===Le(e[0])}},{key:"onValueChanged",value:function(){this.control&&!this.states.has(Ye.Drag)&&this.isNotSync&&(this.control.setValue(this.value),this.syncValueByPos())}},{key:"created",value:function(){this.initControl()}},{key:"mounted",value:function(){this.bindEvent()}},{key:"beforeDestroy",value:function(){this.unbindEvent()}},{key:"bindEvent",value:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove,{passive:!1}),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)}},{key:"unbindEvent",value:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)}},{key:"setScale",value:function(){var e=new Z(Math.floor(this.isHorizontal?this.$refs.rail.offsetWidth:this.$refs.rail.offsetHeight));void 0!==this.zoom&&e.multiply(this.zoom),e.divide(100),this.scale=e.toNumber()}},{key:"initControl",value:function(){var e=this;this.control=new me({value:this.value,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),this.syncValueByPos(),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach((function(t){e.$watch(t,(function(n){if("data"===t&&Array.isArray(e.control.data)&&Array.isArray(n)&&e.control.data.length===n.length&&n.every((function(t,n){return t===e.control.data[n]})))return!1;switch(t){case"data":case"dataLabel":case"dataValue":e.control.data=e.sliderData;break;case"mark":e.control.marks=e.sliderMarks;break;default:e.control[t]=n}["data","max","min","interval"].indexOf(t)>-1&&e.control.syncDotsPos()}))}))}},{key:"syncValueByPos",value:function(){var e=this.control.dotsValue;this.isDiff(e,Array.isArray(this.value)?this.value:[this.value])&&this.$emit("change",1===e.length?e[0]:Se(e),this.focusDotIndex)}},{key:"isDiff",value:function(e,t){return e.length!==t.length||e.some((function(e,n){return e!==t[n]}))}},{key:"emitError",value:function(e,t){this.silent||console.error("[VueSlider error]: ".concat(t)),this.$emit("error",e,t)}},{key:"dragStartOnProcess",value:function(e){if(this.dragOnClick){this.setScale();var t=this.getPosByEvent(e),n=this.control.getRecentDot(t);if(this.dots[n].disabled)return;this.dragStart(n),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos()}}},{key:"dragStart",value:function(e){this.focusDotIndex=e,this.setScale(),this.states.add(Ye.Drag),this.states.add(Ye.Focus),this.$emit("drag-start",this.focusDotIndex)}},{key:"dragMove",value:function(e){if(!this.states.has(Ye.Drag))return!1;e.preventDefault();var t=this.getPosByEvent(e);this.isCrossDot(t),this.control.setDotPos(t,this.focusDotIndex),this.lazy||this.syncValueByPos();var n=this.control.dotsValue;this.$emit("dragging",1===n.length?n[0]:Se(n),this.focusDotIndex)}},{key:"isCrossDot",value:function(e){if(this.canSort){var t=this.focusDotIndex,n=e;if(n>this.dragRange[1]?(n=this.dragRange[1],this.focusDotIndex++):n<this.dragRange[0]&&(n=this.dragRange[0],this.focusDotIndex--),t!==this.focusDotIndex){var r=this.$refs["dot-".concat(this.focusDotIndex)];r&&r.$el&&r.$el.focus(),this.control.setDotPos(n,t)}}}},{key:"dragEnd",value:function(e){var t=this;if(!this.states.has(Ye.Drag))return!1;setTimeout((function(){t.lazy&&t.syncValueByPos(),t.included&&t.isNotSync?t.control.setValue(t.value):t.control.syncDotsPos(),t.states.delete(Ye.Drag),t.useKeyboard&&!("targetTouches"in e)||t.states.delete(Ye.Focus),t.$emit("drag-end",t.focusDotIndex)}))}},{key:"blurHandle",value:function(e){if(!this.states.has(Ye.Focus)||!this.$refs.container||this.$refs.container.contains(e.target))return!1;this.states.delete(Ye.Focus)}},{key:"clickHandle",value:function(e){if(!this.clickable||this.disabled)return!1;if(!this.states.has(Ye.Drag)){this.setScale();var t=this.getPosByEvent(e);this.setValueByPos(t)}}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.states.add(Ye.Focus),this.focusDotIndex=e}},{key:"blur",value:function(){this.states.delete(Ye.Focus)}},{key:"getValue",value:function(){var e=this.control.dotsValue;return 1===e.length?e[0]:e}},{key:"getIndex",value:function(){var e=this.control.dotsIndex;return 1===e.length?e[0]:e}},{key:"setValue",value:function(e){this.control.setValue(Array.isArray(e)?Se(e):[e]),this.syncValueByPos()}},{key:"setIndex",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return t.control.getValueByIndex(e)})):this.control.getValueByIndex(e);this.setValue(n)}},{key:"setValueByPos",value:function(e){var t=this,n=this.control.getRecentDot(e);if(this.disabled||this.dots[n].disabled)return!1;this.focusDotIndex=n,this.control.setDotPos(e,n),this.syncValueByPos(),this.useKeyboard&&this.states.add(Ye.Focus),setTimeout((function(){t.included&&t.isNotSync?t.control.setValue(t.value):t.control.syncDotsPos()}))}},{key:"keydownHandle",value:function(e){var t=this;if(!this.useKeyboard||!this.states.has(Ye.Focus))return!1;var n=this.included&&this.marks,r=z(e,{direction:this.direction,max:n?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(r){e.preventDefault();var i=-1,o=0;n?(this.control.markList.some((function(e,n){return e.value===t.control.dotsValue[t.focusDotIndex]&&(i=r(n),!0)})),i<0?i=0:i>this.control.markList.length-1&&(i=this.control.markList.length-1),o=this.control.markList[i].pos):(i=r(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),o=this.control.parseValue(this.control.getValueByIndex(i))),this.isCrossDot(o),this.control.setDotPos(o,this.focusDotIndex),this.syncValueByPos()}}},{key:"getPosByEvent",value:function(e){return Y(e,this.$refs.rail,this.isReverse)[this.isHorizontal?"x":"y"]/this.scale}},{key:"renderSlot",value:function(e,t,n,r){var i=this.$createElement,o=this.$scopedSlots[e];return o?r?o(t):i("template",{slot:e},[o(t)]):n}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",a()([{ref:"container",class:this.containerClasses,style:this.containerStyles,on:{click:this.clickHandle,touchstart:this.dragStartOnProcess,mousedown:this.dragStartOnProcess}},this.$attrs]),[t("div",{ref:"rail",class:"vue-slider-rail",style:this.railStyle},[this.processArray.map((function(n,r){return e.renderSlot("process",n,t("div",{class:"vue-slider-process",key:"process-".concat(r),style:n.style}),!0)})),this.sliderMarks?t("div",{class:"vue-slider-marks"},[this.control.markList.map((function(n,r){var i;return e.renderSlot("mark",n,t("vue-slider-mark",{key:"mark-".concat(r),attrs:{mark:n,hideLabel:e.hideLabel,stepStyle:e.stepStyle,stepActiveStyle:e.stepActiveStyle,labelStyle:e.labelStyle,labelActiveStyle:e.labelActiveStyle},style:(i={},Pe(i,e.isHorizontal?"height":"width","100%"),Pe(i,e.isHorizontal?"width":"height",e.tailSize),Pe(i,e.mainDirection,"".concat(n.pos,"%")),i),on:{pressLabel:function(t){return e.clickable&&e.setValueByPos(t)}}},[e.renderSlot("step",n,null),e.renderSlot("label",n,null)]),!0)}))]):null,this.dots.map((function(n,r){var i;return t("vue-slider-dot",{ref:"dot-".concat(r),key:"dot-".concat(r),attrs:Ee({value:n.value,disabled:n.disabled,focus:n.focus,"dot-style":[n.style,n.disabled?n.disabledStyle:null,n.focus?n.focusStyle:null],tooltip:n.tooltip||e.tooltip,"tooltip-style":[e.tooltipStyle,n.tooltipStyle,n.disabled?n.tooltipDisabledStyle:null,n.focus?n.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(e.sliderTooltipFormatter)?e.sliderTooltipFormatter[r]:e.sliderTooltipFormatter,"tooltip-placement":e.tooltipDirections[r],role:"slider","aria-valuenow":n.value,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.isHorizontal?"horizontal":"vertical",tabindex:"0"},e.dotAttrs),style:[e.dotBaseStyle,(i={},Pe(i,e.mainDirection,"".concat(n.pos,"%")),Pe(i,"transition","".concat(e.mainDirection," ").concat(e.animateTime,"s")),i)],on:{"drag-start":function(){return e.dragStart(r)}},nativeOn:{focus:function(){return!n.disabled&&e.focus(r)},blur:function(){return e.blur()}}},[e.renderSlot("dot",n,null),e.renderSlot("tooltip",n,null)])})),this.renderSlot("default",{value:this.getValue()},null,!0)])])}},{key:"tailSize",get:function(){return U((this.isHorizontal?this.height:this.width)||ze)}},{key:"containerClasses",get:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]}},{key:"containerStyles",get:function(){var e=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],t=ke(e,2),n=t[0],r=t[1],i=this.width?U(this.width):this.isHorizontal?"auto":U(ze),o=this.height?U(this.height):this.isHorizontal?U(ze):"auto";return{padding:this.contained?"".concat(r/2,"px ").concat(n/2,"px"):this.isHorizontal?"".concat(r/2,"px 0"):"0 ".concat(n/2,"px"),width:i,height:o}}},{key:"processArray",get:function(){var e=this;return this.control.processArray.map((function(t,n){var r,i=ke(t,3),o=i[0],s=i[1],a=i[2];if(o>s){var c=[s,o];o=c[0],s=c[1]}var u=e.isHorizontal?"width":"height";return{start:o,end:s,index:n,style:Ee(Ee((r={},Pe(r,e.isHorizontal?"height":"width","100%"),Pe(r,e.isHorizontal?"top":"left",0),Pe(r,e.mainDirection,"".concat(o,"%")),Pe(r,u,"".concat(s-o,"%")),Pe(r,"transitionProperty","".concat(u,",").concat(e.mainDirection)),Pe(r,"transitionDuration","".concat(e.animateTime,"s")),r),e.processStyle),a)}}))}},{key:"dotBaseStyle",get:function(){var e,t=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],n=ke(t,2),r=n[0],i=n[1];return e=this.isHorizontal?Pe({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),"-WebkitTransform":"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},"ltr"===this.direction?"left":"right","0"):Pe({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),"-WebkitTransform":"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},"btt"===this.direction?"bottom":"top","0"),Ee({width:"".concat(r,"px"),height:"".concat(i,"px")},e)}},{key:"mainDirection",get:function(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top"}}},{key:"isHorizontal",get:function(){return"ltr"===this.direction||"rtl"===this.direction}},{key:"isReverse",get:function(){return"rtl"===this.direction||"btt"===this.direction}},{key:"tooltipDirections",get:function(){var e=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(e)?e:this.dots.map((function(){return e}))}},{key:"dots",get:function(){var e=this;return this.control.dotsPos.map((function(t,n){return Ee({pos:t,index:n,value:e.control.dotsValue[n],focus:e.states.has(Ye.Focus)&&e.focusDotIndex===n,disabled:e.disabled,style:e.dotStyle},(Array.isArray(e.dotOptions)?e.dotOptions[n]:e.dotOptions)||{})}))}},{key:"animateTime",get:function(){return this.states.has(Ye.Drag)?0:this.duration}},{key:"canSort",get:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross}},{key:"sliderData",get:function(){var e=this;return this.isObjectArrayData(this.data)?this.data.map((function(t){return t[e.dataValue]})):this.isObjectData(this.data)?Object.keys(this.data):this.data}},{key:"sliderMarks",get:function(){var e=this;return this.marks?this.marks:this.isObjectArrayData(this.data)?function(t){var n={label:t};return e.data.some((function(r){return r[e.dataValue]===t&&(n.label=r[e.dataLabel],!0)})),n}:this.isObjectData(this.data)?this.data:void 0}},{key:"sliderTooltipFormatter",get:function(){var e=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return function(t){var n=""+t;return e.data.some((function(r){return r[e.dataValue]===t&&(n=r[e.dataLabel],!0)})),n};if(this.isObjectData(this.data)){var t=this.data;return function(e){return t[e]}}}},{key:"isNotSync",get:function(){var e=this.control.dotsValue;return Array.isArray(this.value)?this.value.length!==e.length||this.value.some((function(t,n){return t!==e[n]})):this.value!==e[0]}},{key:"dragRange",get:function(){var e=this.dots[this.focusDotIndex-1],t=this.dots[this.focusDotIndex+1];return[e?e.pos:-1/0,t?t.pos:1/0]}}]),n}(l.a);return c([h("change",{default:0})],e.prototype,"value",void 0),c([p({type:Boolean,default:!1})],e.prototype,"silent",void 0),c([p({default:"ltr",validator:function(e){return["ltr","rtl","ttb","btt"].indexOf(e)>-1}})],e.prototype,"direction",void 0),c([p({type:[Number,String]})],e.prototype,"width",void 0),c([p({type:[Number,String]})],e.prototype,"height",void 0),c([p({default:14})],e.prototype,"dotSize",void 0),c([p({default:!1})],e.prototype,"contained",void 0),c([p({type:Number,default:0})],e.prototype,"min",void 0),c([p({type:Number,default:100})],e.prototype,"max",void 0),c([p({type:Number,default:1})],e.prototype,"interval",void 0),c([p({type:Boolean,default:!1})],e.prototype,"disabled",void 0),c([p({type:Boolean,default:!0})],e.prototype,"clickable",void 0),c([p({type:Boolean,default:!1})],e.prototype,"dragOnClick",void 0),c([p({type:Number,default:.5})],e.prototype,"duration",void 0),c([p({type:[Object,Array]})],e.prototype,"data",void 0),c([p({type:String,default:"value"})],e.prototype,"dataValue",void 0),c([p({type:String,default:"label"})],e.prototype,"dataLabel",void 0),c([p({type:Boolean,default:!1})],e.prototype,"lazy",void 0),c([p({type:String,validator:function(e){return["none","always","focus","hover","active"].indexOf(e)>-1},default:"active"})],e.prototype,"tooltip",void 0),c([p({type:[String,Array],validator:function(e){return(Array.isArray(e)?e:[e]).every((function(e){return["top","right","bottom","left"].indexOf(e)>-1}))}})],e.prototype,"tooltipPlacement",void 0),c([p({type:[String,Array,Function]})],e.prototype,"tooltipFormatter",void 0),c([p({type:Boolean,default:!0})],e.prototype,"useKeyboard",void 0),c([p(Function)],e.prototype,"keydownHook",void 0),c([p({type:Boolean,default:!0})],e.prototype,"enableCross",void 0),c([p({type:Boolean,default:!1})],e.prototype,"fixed",void 0),c([p({type:Boolean,default:!0})],e.prototype,"order",void 0),c([p(Number)],e.prototype,"minRange",void 0),c([p(Number)],e.prototype,"maxRange",void 0),c([p({type:[Boolean,Object,Array,Function],default:!1})],e.prototype,"marks",void 0),c([p({type:[Boolean,Function],default:!0})],e.prototype,"process",void 0),c([p({type:[Number]})],e.prototype,"zoom",void 0),c([p(Boolean)],e.prototype,"included",void 0),c([p(Boolean)],e.prototype,"adsorb",void 0),c([p(Boolean)],e.prototype,"hideLabel",void 0),c([p()],e.prototype,"dotOptions",void 0),c([p()],e.prototype,"dotAttrs",void 0),c([p()],e.prototype,"railStyle",void 0),c([p()],e.prototype,"processStyle",void 0),c([p()],e.prototype,"dotStyle",void 0),c([p()],e.prototype,"tooltipStyle",void 0),c([p()],e.prototype,"stepStyle",void 0),c([p()],e.prototype,"stepActiveStyle",void 0),c([p()],e.prototype,"labelStyle",void 0),c([p()],e.prototype,"labelActiveStyle",void 0),c([v("value")],e.prototype,"onValueChanged",null),e=c([f()({data:function(){return{control:null}},components:{VueSliderDot:S,VueSliderMark:$}})],e),e}(),He=Je;He.VueSliderMark=$,He.VueSliderDot=S;var We=He;t["default"]=We}})["default"]}))},"4b20":function(e,t,n){"use strict";n("f9fd")},"4e82":function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("59ed"),s=n("7b0b"),a=n("07fa"),c=n("577e"),u=n("d039"),l=n("addb"),d=n("a640"),f=n("04d1"),h=n("d998"),p=n("2d00"),v=n("512c"),m=[],y=i(m.sort),_=i(m.push),g=u((function(){m.sort(void 0)})),b=u((function(){m.sort(null)})),k=d("sort"),O=!u((function(){if(p)return p<70;if(!(f&&f>3)){if(h)return!0;if(v)return v<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:t+r,v:n})}for(m.sort((function(e,t){return t.v-e.v})),r=0;r<m.length;r++)t=m[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),x=g||!b||!k||!O,C=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}};r({target:"Array",proto:!0,forced:x},{sort:function(e){void 0!==e&&o(e);var t=s(this);if(O)return void 0===e?y(t):y(t,e);var n,r,i=[],c=a(t);for(r=0;r<c;r++)r in t&&_(i,t[r]);l(i,C(e)),n=i.length,r=0;while(r<n)t[r]=i[r++];while(r<c)delete t[r++];return t}})},"4f89":function(e,t,n){},"512c":function(e,t,n){var r=n("342f"),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},"5a34":function(e,t,n){var r=n("da84"),i=n("44e7"),o=r.TypeError;e.exports=function(e){if(i(e))throw o("The method doesn't accept regular expressions");return e}},6052:function(e,t,n){e.exports=n.p+"img/icon_search.c0726eb1.png"},"671b":function(e,t,n){"use strict";n("73af")},6927:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAACRCAYAAADD2FojAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAABAVJREFUeAHtne1pG0EURTNCfdjpJJ0kqSTqJE4nKUWpZDOC/BBGCmNYuB97BAZ5Pey7756DJds/PC7z8YkHDaw18DqPXe+P3vwZ8+O6bdvL/Rd4TgOrDYwxPp9WD3OOBp41gETPmuH6cgNItFwVB581cOL90LNquL7awGm+MfqzephzNPCoAV7OHrXCtQ81gEQfqovDjxo4P7r4/tp8yfs1r13fX+fz7gbm++UfKxsuSTRvdPvF5HXlhpzpaWAy/7bygxcvZz3MZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2CRLJqu8ZjEQ9LGWbIJGs+p7BSNTDUrYJEsmq7xmMRD0sZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2CRLJqu8ZjEQ9LGWbIJGs+p7BSNTDUrYJEsmq7xmMRD0sZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2CRLJqu8ZjEQ9LGWbIJGs+p7BSNTDUrYJEsmq7xmMRD0sZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2CRLJqu8ZjEQ9LGWbIJGs+p7BSNTDUrYJEsmq7xmMRD0sZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2yVk1+d//XP+pmt80d4zxffb5ptqJ70Sq5ovmIlERTNUqSKRqvmguEhXBVK2CRKrmi+YiURFM1SpIpGq+aC4SFcFUrYJEquaL5iJREUzVKkikar5orvJvZ2+zx9sHj/AG+E4UDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AxIFA7QIT4SOVAIz4BE4QAd4iORA4XwDEgUDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AxIFA7QIT4SOVAIz4BE4QAd4iORA4XwDEgUDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AxIFA7QIT4SOVAIz4BE4QAd4iORA4XwDEgUDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AxIFA7QIT4SOVAIz4BE4QAd4iORA4XwDEgUDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AznxfyX+bgunuVYSQPbtr2srLIk0bzZ15WbceaYDfBydkzuu26NRLvWecybIdExue+6NRLtWucxb4ZEx+S+69ZItGudx7wZEh2T+65b335PdBljvN7d9ct8/vvuc57SwH8b+AspFDJmv8EizgAAAABJRU5ErkJggg=="},"6bfb":function(e,t,n){},"6e1f":function(e,t,n){"use strict";n("a766")},"6f92":function(e,t,n){},"717e":function(e,t,n){"use strict";n("cb99")},7283:function(e,t,n){"use strict";n("752f")},"73af":function(e,t,n){},"752f":function(e,t,n){},"807d":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_ebiodiv_matching_frontend_ebiodiv_matching_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("07ac"),core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_2__),vuex__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2f62"),_components_shared_fields_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("eb5f");__webpack_exports__["a"]={name:"OccurrencesElement",mixins:[_components_shared_fields_js__WEBPACK_IMPORTED_MODULE_4__["a"].mixin_fields],components:{},props:{occurrence:{type:Object,required:!0},index:{type:Number,required:!0}},data:function(){return{comment_count:null}},computed:Object(_home_runner_work_ebiodiv_matching_frontend_ebiodiv_matching_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(_home_runner_work_ebiodiv_matching_frontend_ebiodiv_matching_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_3__["c"])(["user_query","theme_color","occurrence_characteristics"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},fields_to_display:function(){for(var e=[],t=0;t<this.occurrence_characteristics.length;t++)this.occurrence_characteristics[t].selection&&e.push(this.occurrence_characteristics[t]);return e},tr_even:function(){return this.index%2==0?"tr-even":"tr-odd"},relation_count:function(){var e=0;if(!("occurrenceRelationSummary"in this.occurrence))return"unknown";for(var t=0,n=Object.values(this.occurrence.occurrenceRelationSummary);t<n.length;t++){var r=n[t];e+=r}return e},status_name:function(){return"occurrenceRelationSummary"in this.occurrence?this.occurrence.occurrenceRelationSummary.PNDG==this.relation_count?"not-done":this.occurrence.occurrenceRelationSummary.PNDG<this.relation_count?"partial":"finished":"unknown"}}),methods:Object(_home_runner_work_ebiodiv_matching_frontend_ebiodiv_matching_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(_home_runner_work_ebiodiv_matching_frontend_ebiodiv_matching_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_3__["b"])(["updateOccurrenceKey","updateStep"])),{},{displayOccurrence:function(){this.updateStep(3),this.updateOccurrenceKey(this.occurrence.key),this.$gtag.event("displayOccurrence")},getValue:function getValue(variable){return"occurrence.typeStatus"==variable?this.display_value_typeStatus(eval("this."+variable)):"occurrence.basisOfRecord"==variable?this.display_value_basisOfRecord(eval("this."+variable)):eval("this."+variable)},loadCommentsCount:function(){var e=this,t=this.$backend.fetch_comments(this.occurrence.key);t.then((function(t){e.comment_count=t.data.count})).catch((function(e){console.log(e)}))}}),mounted:function(){this.loadCommentsCount()}}},"8a5d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"v-spinner"},[n("div",{staticClass:"v-pulse v-pulse1",style:[e.spinnerStyle,e.spinnerDelay1]}),n("div",{staticClass:"v-pulse v-pulse2",style:[e.spinnerStyle,e.spinnerDelay2]}),n("div",{staticClass:"v-pulse v-pulse3",style:[e.spinnerStyle,e.spinnerDelay3]})])},i=[],o={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},s=o,a=(n("671b"),n("2877")),c=Object(a["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},"8ef7":function(e,t,n){(function(t,n){e.exports=n()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"0d58":function(e,t,n){var r=n("ce10"),i=n("e11e");e.exports=Object.keys||function(e){return r(e,i)}},"11e9":function(e,t,n){var r=n("52a7"),i=n("4630"),o=n("6821"),s=n("6a99"),a=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},1495:function(e,t,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){i(e);var n,s=o(t),a=s.length,c=0;while(a>c)r.f(e,n=s[c++],t[n]);return e}},"230e":function(e,t,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"2aba":function(e,t,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a="toString",c=Function[a],u=(""+c).split(a);n("8378").inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,s)||i(n,s,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[s]||c.call(this)}))},"2aeb":function(e,t,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},c="prototype",u=function(){var e,t=n("230e")("iframe"),r=o.length,i="<",s=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+s+"document.F=Object"+i+"/script"+s),e.close(),u=e.F;while(r--)delete u[c][o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[c]=r(e),n=new a,a[c]=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"32e9":function(e,t,n){var r=n("86cc"),i=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var r=n("7726"),i=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),c="prototype",u=function(e,t,n){var l,d,f,h,p=e&u.F,v=e&u.G,m=e&u.S,y=e&u.P,_=e&u.B,g=v?r:m?r[t]||(r[t]={}):(r[t]||{})[c],b=v?i:i[t]||(i[t]={}),k=b[c]||(b[c]={});for(l in v&&(n=t),n)d=!p&&g&&void 0!==g[l],f=(d?g:n)[l],h=_&&d?a(f,r):y&&"function"==typeof f?a(Function.call,f):f,g&&s(g,l,f,e&u.U),b[l]!=f&&o(b,l,h),y&&k[l]!=f&&(k[l]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5dbc":function(e,t,n){var r=n("d3f4"),i=n("8b97").set;e.exports=function(e,t,n){var o,s=t.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},"613b":function(e,t,n){var r=n("5537")("keys"),i=n("ca5a");e.exports=function(e){return r[e]||(r[e]=i(e))}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6821:function(e,t,n){var r=n("626a"),i=n("be13");e.exports=function(e){return r(i(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var r=n("4588"),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},8378:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},"86cc":function(e,t,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),s=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"8b97":function(e,t,n){var r=n("d3f4"),i=n("cb7c"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},9093:function(e,t,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"9def":function(e,t,n){var r=n("4588"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},aa77:function(e,t,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),s=n("fdef"),a="["+s+"]",c="​",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),d=function(e,t,n){var i={},a=o((function(){return!!s[e]()||c[e]()!=c})),u=i[e]=a?t(f):s[e];n&&(i[n]=u),r(r.P+r.F*a,"String",i)},f=d.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=d},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),i=n("9def"),o=n("77f1");e.exports=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},c5f6:function(e,t,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),s=n("5dbc"),a=n("6a99"),c=n("79e5"),u=n("9093").f,l=n("11e9").f,d=n("86cc").f,f=n("aa77").trim,h="Number",p=r[h],v=p,m=p.prototype,y=o(n("2aeb")(m))==h,_="trim"in String.prototype,g=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=_?t.trim():f(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var s,c=t.slice(2),u=0,l=c.length;u<l;u++)if(s=c.charCodeAt(u),s<48||s>i)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(y?c((function(){m.valueOf.call(n)})):o(n)!=h)?s(new v(g(t)),n,p):g(t)};for(var b,k=n("9e1e")?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;k.length>O;O++)i(v,b=k[O])&&!i(p,b)&&d(p,b,l(v,b));p.prototype=m,m.constructor=p,n("2aba")(r,h,p)}},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fb15:function(e,t,n){"use strict";var r;n.r(t),"undefined"!==typeof window&&(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{class:e.paginationClasses.ul},[e.paginationLabels.first?n("li",{class:e.paginationClasses.li+" "+(e.hasFirst?e.paginationClasses.liDisable:"")},[n("button",{class:e.paginationClasses.button+" "+(e.hasFirst?e.paginationClasses.buttonDisable:""),attrs:{disabled:e.hasFirst},domProps:{innerHTML:e._s(e.paginationLabels.first)},on:{click:e.first}})]):e._e(),e.paginationLabels.prev?n("li",{class:e.paginationClasses.li+" "+(e.hasFirst?e.paginationClasses.liDisable:"")},[n("button",{class:e.paginationClasses.button+" "+(e.hasFirst?e.paginationClasses.buttonDisable:""),attrs:{disabled:e.hasFirst},domProps:{innerHTML:e._s(e.paginationLabels.prev)},on:{click:e.prev}})]):e._e(),n("li",{directives:[{name:"show",rawName:"v-show",value:1!==e.rangeFirstPage,expression:"rangeFirstPage !== 1"}],class:e.paginationClasses.li},[n("button",{class:e.paginationClasses.button,on:{click:function(t){e.goto(1)}}},[e._v("1")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:3===e.rangeFirstPage,expression:"rangeFirstPage === 3"}],class:e.paginationClasses.li},[n("button",{class:e.paginationClasses.button,on:{click:function(t){e.goto(2)}}},[e._v("2")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:1!==e.rangeFirstPage&&2!==e.rangeFirstPage&&3!==e.rangeFirstPage,expression:"rangeFirstPage !== 1 && rangeFirstPage !== 2 && rangeFirstPage !== 3"}],class:e.paginationClasses.li+" "+e.paginationClasses.liDisable},[n("span",{class:e.paginationClasses.button+" "+e.paginationClasses.buttonDisable},[e._v("...")])]),e._l(e.range,(function(t){return n("li",{key:t,class:e.paginationClasses.li+" "+(e.hasActive(t)?e.paginationClasses.liActive:"")},[n("button",{class:e.paginationClasses.button+" "+(e.hasActive(t)?e.paginationClasses.buttonActive:""),on:{click:function(n){e.goto(t)}}},[e._v(e._s(t))])])})),n("li",{directives:[{name:"show",rawName:"v-show",value:e.rangeLastPage!==e.pageCount&&e.rangeLastPage!==e.pageCount-1&&e.rangeLastPage!==e.pageCount-2,expression:"rangeLastPage !== pageCount && rangeLastPage !== (pageCount - 1) && rangeLastPage !== (pageCount - 2)"}],class:e.paginationClasses.li+" "+e.paginationClasses.liDisable},[n("span",{class:e.paginationClasses.button+" "+e.paginationClasses.buttonDisable},[e._v("...")])]),n("li",{directives:[{name:"show",rawName:"v-show",value:e.rangeLastPage===e.pageCount-2,expression:"rangeLastPage === (pageCount - 2)"}],class:e.paginationClasses.li},[n("button",{class:e.paginationClasses.button,on:{click:function(t){e.goto(e.pageCount-1)}}},[e._v(e._s(e.pageCount-1))])]),e.rangeLastPage!==e.pageCount?n("li",{class:e.paginationClasses.li},[n("button",{class:e.paginationClasses.button,on:{click:function(t){e.goto(e.pageCount)}}},[e._v(e._s(e.pageCount))])]):e._e(),e.paginationLabels.next?n("li",{class:e.paginationClasses.li+" "+(e.hasLast?e.paginationClasses.liDisable:"")},[n("button",{class:e.paginationClasses.button+" "+(e.hasLast?e.paginationClasses.buttonDisable:""),attrs:{disabled:e.hasLast},domProps:{innerHTML:e._s(e.paginationLabels.next)},on:{click:e.next}})]):e._e(),e.paginationLabels.last?n("li",{class:e.paginationClasses.li+" "+(e.hasLast?e.paginationClasses.liDisable:"")},[n("button",{class:e.paginationClasses.button+" "+(e.hasLast?e.paginationClasses.buttonDisable:""),attrs:{disabled:e.hasLast},domProps:{innerHTML:e._s(e.paginationLabels.last)},on:{click:e.last}})]):e._e()],2)},o=[];function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}n("c5f6");var c=3,u={ul:"pagination",li:"pagination-item",liActive:"pagination-item--active",liDisable:"pagination-item--disable",button:"pagination-link",buttonActive:"pagination-link--active",buttonDisable:"pagination-link--disable"},l={first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;"},d={props:{value:{type:Number,required:!0},pageCount:{type:Number,required:!0},classes:{type:Object,required:!1,default:function(){return{}}},labels:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{paginationClasses:a({},u,this.classes),paginationLabels:a({},l,this.labels)}},mounted:function(){this.value>this.pageCount&&this.$emit("input",this.pageCount)},computed:{rangeFirstPage:function(){return 1===this.value?1:this.value===this.pageCount?this.pageCount-c<0?1:this.pageCount-c+1:this.value-1},rangeLastPage:function(){return Math.min(this.rangeFirstPage+c-1,this.pageCount)},range:function(){for(var e=[],t=this.rangeFirstPage;t<=this.rangeLastPage;t+=1)e.push(t);return e},hasFirst:function(){return 1===this.value},hasLast:function(){return this.value===this.pageCount}},watch:{value:function(){this.$emit("change")}},methods:{first:function(){this.hasFirst||this.$emit("input",1)},prev:function(){this.hasFirst||this.$emit("input",this.value-1)},goto:function(e){this.$emit("input",e)},next:function(){this.hasLast||this.$emit("input",this.value+1)},last:function(){this.hasLast||this.$emit("input",this.pageCount)},hasActive:function(e){return e===this.value}}},f=d;function h(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}var p=h(f,i,o,!1,null,null,null);p.options.__file="vue-plain-pagination.vue";var v=p.exports;t["default"]=v},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})["default"]}))},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d039"),s=n("e8b5"),a=n("861d"),c=n("7b0b"),u=n("07fa"),l=n("8418"),d=n("65f0"),f=n("1dde"),h=n("b622"),p=n("2d00"),v=h("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",_=i.TypeError,g=p>=51||!o((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),b=f("concat"),k=function(e){if(!a(e))return!1;var t=e[v];return void 0!==t?!!t:s(e)},O=!g||!b;r({target:"Array",proto:!0,forced:O},{concat:function(e){var t,n,r,i,o,s=c(this),a=d(s,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],k(o)){if(i=u(o),f+i>m)throw _(y);for(n=0;n<i;n++,f++)n in o&&l(a,f,o[n])}else{if(f>=m)throw _(y);l(a,f++,o)}return a.length=f,a}})},"9ef3":function(e,t,n){},"9fe1":function(e,t,n){"use strict";n("6bfb")},a119:function(e,t,n){"use strict";n("cab3")},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("23cb"),s=n("5926"),a=n("07fa"),c=n("7b0b"),u=n("65f0"),l=n("8418"),d=n("1dde"),f=d("splice"),h=i.TypeError,p=Math.max,v=Math.min,m=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,i,d,f,_,g=c(this),b=a(g),k=o(e,b),O=arguments.length;if(0===O?n=r=0:1===O?(n=0,r=b-k):(n=O-2,r=v(p(s(t),0),b-k)),b+n-r>m)throw h(y);for(i=u(g,r),d=0;d<r;d++)f=k+d,f in g&&l(i,d,g[f]);if(i.length=r,n<r){for(d=k;d<b-r;d++)f=d+r,_=d+n,f in g?g[_]=g[f]:delete g[_];for(d=b;d>b-r+n;d--)delete g[d-1]}else if(n>r)for(d=b-r;d>k;d--)f=d+r-1,_=d+n-1,f in g?g[_]=g[f]:delete g[_];for(d=0;d<n;d++)g[d+k]=arguments[d+2];return g.length=b-r+n,i}})},a766:function(e,t,n){},a8f0:function(e,t,n){},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},beea:function(e,t,n){},c5a5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAACRCAYAAADD2FojAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAABHRJREFUeAHtnYFtGkEQRQNKH3Y6SScklUAncTpxOiGVXPYkpEE2l90bzWjR/IdkaX23O8u8/wTYxsfh0m5fuEFgjMBrm3a9n7r6c2hf12VZXu5PMIbAKIHD4fDtODqZeRDYIoBEW2Q4PkwAiYZRMXGLwJHXQ1toOD5K4NheGP0dncw8CDwiwNPZIyoc20UAiXbhYvIjAl8fHfx4rD3l/W7Hrh+P831tAu318nmkwyGJWqH1F5PXkYLMqUOgZf5j5Acvns7qZD6tEySahr7OxkhUJ8tpnSDRNPR1NkaiOllO6wSJpqGvszES1clyWidINA19nY2RqE6W0zpBomno62yMRHWynNYJEk1DX2djJKqT5bROkGga+jobI1GdLKd1gkTT0NfZGInqZDmtEySahr7OxkhUJ8tpnSDRNPR1Nh59o36djjc6ub0p/dfG6U+H1/+AWdd8OiF4gEciwdCjW0aiaKKC9ZBIMPTolpEomqhgPSQSDD26ZSSKJipYD4kEQ49uGYmiiQrWQyLB0KNbRqJoooL1kEgw9OiWkSiaqGA9JBIMPbplJIomKlgPiQRDj24ZiaKJCtZDIsHQo1tGomiigvWQSDD06JaRKJqoYD0kEgw9umUkiiYqWA+JBEOPbhmJookK1kMiwdCjW0aiaKKC9ZBIMPTolpEomqhgPSQSDD26ZSSKJipYD4kEQ49uGYmiiQrWQyLB0KNbRqJoooL1pl1ub+/l7bKzaZ//vmuLNv90Pp9PuxYlTW6X/vvZeL4lle+W5ZGoi4gJPQJI1CPE+S4BJOoiYkKPABL1CHG+SwCJuoiY0COARD1CnO8SQKIuIib0CCBRjxDnuwSQqIuICT0CSNQjxPkuASTqImJCj8DMv529tTu3fj3Fbe/f8vioKouNRyJjwchJAImc4FhmBJDIWDByEkAiJziWGQEkMhaMnASQyAmOZUYAiYwFIycBJHKCY5kRQCJjwchJAImc4FhmBJDIWDByEkAiJziWGQEkMhaMnASQyAmOZUYAiYwFIycBJHKCY5kRQCJjwchJAImc4FhmBJDIWDByEkAiJziWGQEkMhaMnASQyAmOZUYAiYwFIycBJHKCY5kRQCJjwchJAImc4FhmBJDIWDByEkAiJziWGQEkMhaMnASQyAmOZUYAiYwFIycBJHKCY5kRQCJjwchJAImc4FhmBKZdbs/uwvOM2iX0/uy4N+875paeikS3eG+fF/ZWOu2k5ng6SwKrVBaJlNJO6hWJksAqlUUipbSTekWiJLBKZZFIKe2kXpEoCaxSWSRSSjupVyRKAqtUFomU0k7qFYmSwCqVRSKltJN6RaIksEplkUgp7aRekSgJrFJZJFJKO6lXJEoCq1QWiZTSTuoViZLAKpVFIqW0k3odfaN+ex/75Zp0Hyj7pASWZXkZuWtDErVip5FizNEkwNOZZu6hXSNRKE7NYkikmXto10gUilOzGBJp5h7aNRKF4tQshkSauYd2vf6e6NIuqfJ6V/V7G7/ffc8QAv8l8A/RFE7lrzgAJAAAAABJRU5ErkJggg=="},ca96:function(e,t,n){"use strict";n("396c")},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cab3:function(e,t,n){},cb99:function(e,t,n){},cdcc:function(e,t,n){"use strict";n("34a7")},ce49:function(e,t,n){},d665:function(e,t,n){e.exports=n.p+"img/icon_comment.6f9de73d.png"},d998:function(e,t,n){var r=n("342f");e.exports=/MSIE|Trident/.test(r)},dca8:function(e,t,n){var r=n("23e7"),i=n("bb2f"),o=n("d039"),s=n("861d"),a=n("f183").onFreeze,c=Object.freeze,u=o((function(){c(1)}));r({target:"Object",stat:!0,forced:u,sham:!i},{freeze:function(e){return c&&s(e)?c(a(e)):e}})},dd27:function(e,t,n){e.exports=n.p+"img/logo_ebiodiv_small.2a380f8c.png"},eb5f:function(e,t,n){"use strict";var r=n("2909"),i=(n("2af1"),n("4de4"),n("d3b7"),n("a15b"),n("d81d"),{DONE:"Done",PNDG:"Pending",UDCB:"Undecidable"}),o={PRESERVED_SPECIMEN:"Specimen",FOSSIL_SPECIMEN:"Fossil",LIVING_SPECIMEN:"Living Specimen",OBSERVATION:"Observation",HUMAN_OBSERVATION:"Human Observation",MACHINE_OBSERVATION:"Machine Observation",LITERATURE:"Literature Occurrence",MATERIAL_SAMPLE:"Material sample",OCCURRENCE:"Occurrence evidence",MATERIAL_CITATION:"Material citation",UNKNOWN:"Unknown evidence"},s={TYPE:"Type",TYPE_SPECIES:"Type species",TYPE_GENUS:"Type genus",ALLOLECTOTYPE:"Allolectotype",ALLONEOTYPE:"Alloneotype",ALLOTYPE:"Allotype",COTYPE:"Cotype",EPITYPE:"Epitype",EXEPITYPE:"Ex-epitype",EXHOLOTYPE:"Ex-holotype",EXISOTYPE:"Ex-isotype",EXLECTOTYPE:"Ex-lectotype",EXNEOTYPE:"Ex-neotype",EXPARATYPE:"Ex-paratype",EXSYNTYPE:"Ex-syntype",EXTYPE:"Ex-type",HAPANTOTYPE:"Hapantotype",HOLOTYPE:"Holotype",ICONOTYPE:"Iconotype",ISOLECTOTYPE:"Isolectotype",ISONEOTYPE:"Isoneotype",ISOSYNTYPE:"Isosyntype",ISOTYPE:"Isotype",LECTOTYPE:"Lectotype",NEOTYPE:"Neotype",PARALECTOTYPE:"Paralectotype",PARANEOTYPE:"Paraneotype",PARATYPE:"Paratype",PLASTOHOLOTYPE:"Plastoholotype",PLASTOISOTYPE:"Plastoisotype",PLASTOLECTOTYPE:"Plastolectotype",PLASTONEOTYPE:"Plastoneotype",PLASTOPARATYPE:"Plastoparatype",PLASTOSYNTYPE:"Plastosyntype",PLASTOTYPE:"Plastotype",SECONDARYTYPE:"Secondary type",SUPPLEMENTARYTYPE:"Supplementary type",SYNTYPE:"Syntype",TOPOTYPE:"Topotype",ORIGINALMATERIAL:"Original material",NOTATYPE:"Not a type"},a=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:3,maximumFractionDigits:3});t["a"]={mixin_fields:{methods:{display_value_decimalLatitude_decimalLongitude:function(e,t){if(null!=e&null!=t){var n=["S","","N"][1+Math.sign(e)],r=["W","","E"][1+Math.sign(t)];return a.format(e)+n+", "+a.format(t)+r}return null!=e&&null!=t||null==e&&null==t?"":e+", "+t},display_value_elevation_depth:function(e,t){return null!=e&&null==t?e:null==e&&null!=t?-t:null!=e&&null!=t?e+"/"+-t:""},display_value_day_month_year:function(e,t,n){var r=[e,t,n].filter((function(e){return null!=e}));return r.join("/")},display_value_statusCode:function(e){var t=i[e];return null!=t?t:e},display_value_typeStatus:function(e){var t=s[e];return null!=t?t:e},display_value_basisOfRecord:function(e){var t=o[e];return null!=t?t:e},display_content:function(e,t){var n=t.map((function(t){return e[t]})),i="display_value_"+t.join("_");return i in this?this[i].apply(this,Object(r["a"])(n)):n.filter((function(e){return null!=e})).join("/")}}}}},eb79:function(e,t,n){"use strict";n("a8f0")},f4a9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("BannerComponent",{attrs:{title:"eBioDiv Matching Service",subtitle:"Linking material citations to specimens"}}),e.landing?n("div",{staticClass:"row"},[e._m(0)]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:2==e.step,expression:"step == 2"}],ref:"step2",staticClass:"row"},[n("OccurrencesList",{ref:"occurrencesList"})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:3==e.step,expression:"step == 3"}],staticClass:"row"},[n("CurationList",{ref:"curationList",on:{back:e.reloadOccurrences}})],1)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"info-container"},[n("p",[e._v("Are you new to the matching service? Then "),n("a",{attrs:{href:"https://ebiodiv.org/help/",target:"_blank"}},[e._v("click here")]),e._v(" !")])])}],o=n("5530"),s=(n("b64b"),n("ac1f"),n("1276"),n("d81d"),n("dca8"),n("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.bannerCssClasses,style:e.cssVars},[r("div",[r("div",{staticClass:"float-start position-absolute"},[r("a",{attrs:{href:e.baseUrl}},[r("img",{staticClass:"medium-img",attrs:{src:n("dd27")}})])]),r("h1",[e._v(e._s(e.title))]),r("p",[r("i",[e._v(e._s(e.subtitle))])])]),r("div",{staticClass:"user-login-container"},[r("b-nav",[r("b-nav-item",{attrs:{href:"https://ebiodiv.org/help/","link-classes":"ebiodiv_navbar_link",target:"_blank"}},[r("b-icon-question-circle"),e._v(" Help")],1),r("b-nav-item",{attrs:{href:"https://ebiodiv.org/","link-classes":"ebiodiv_navbar_link",target:"_blank"}},[r("b-icon-info-circle"),e._v(" About")],1)],1),r("UserComponent")],1)])}),a=[],c=(n("5319"),n("2f62")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-login"},[e.user.name?[n("div",{attrs:{id:"loginName"}},[n("b-icon",{attrs:{icon:"person-fill"}}),e._v(" "+e._s(e.user.name))],1),n("b-popover",{attrs:{target:"loginName",triggers:"hover",placement:"bottomright",delay:{show:50,hide:400}}},[n("b-container",[n("b-row",{staticClass:"mb-2 mt-2"},[n("b-col",[e._v("ORCID "),n("a",{attrs:{href:e.userOrcidUrl,target:"_blank"}},[e._v(e._s(e.user.orcid))])])],1),n("b-row",{staticClass:"mb-2 mt-2"},[n("b-col",[n("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:e.logout}},[e._v("Log out")])],1)],1)],1)],1)]:[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"loginForm",expression:"'loginForm'"}],attrs:{size:"sm",id:"loginName"}},[n("b-icon",{attrs:{icon:"person-fill"}}),e._v(" Login")],1),n("b-modal",{attrs:{id:"loginForm",title:"Login with your ORCID","hide-footer":!0},on:{show:e.onLoginShow,hide:e.onLoginHide}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body mx-auto"},[n("div",[n("a",{staticClass:"btn btn-outline-primary",attrs:{id:"oauthLink",href:e.authUrl,role:"button",target:"_blank",rel:"opener"},on:{click:e.startOAuth}},[n("img",{attrs:{src:"orcid_24x24.webp"}}),e._v(" Connect your ORCID")])])])])])])]],2)},l=[],d=n("1da1"),f=(n("96cf"),{name:"UserComponent",data:function(){return{authUrl:null,pendingLogin:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["user"])),{},{userOrcidUrl:function(){return null!=this.$orcid.config?this.$orcid.config.issuer+"/"+this.user.orcid:"https://orcid.org/"+this.user.orcid}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateOrcidUser"])),{},{onLoginShow:function(){this.pendingLogin=!0},onLoginHide:function(){this.pendingLogin&&this.$emitter.emit("loginAbort"),this.pendingLogin=!1},startOAuth:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.setOrcidToken=function(t){e.updateOrcidUser(t),window.setOrcidToken=null,e.$emitter.emit("logged")};case 1:case"end":return t.stop()}}),t)})))()},logout:function(){this.$emitter.emit("logout"),this.updateOrcidUser({name:null,orcid:null,orcidToken:null})}}),mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$orcid.getAuthUrl();case 2:e.authUrl=t.sent,e.$emitter.on("logged",(function(){e.pendingLogin=!1})),e.$emitter.on("ensureLogin",(function(){e.user.name?e.$emitter.emit("logged"):e.$bvModal.show("loginForm")}));case 5:case"end":return t.stop()}}),t)})))()}}),h=f,p=(n("286e"),n("2877")),v=Object(p["a"])(h,u,l,!1,null,"e3031a88",null),m=v.exports,y={name:"BannerComponent",components:{UserComponent:m},props:{title:{type:String,required:!0},subtitle:{type:String,required:!0,default:""}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["theme_color"])),{},{cssVars:function(){return{"--color-main":this.theme_color.main,"--color-secondary":this.theme_color.secondary}},bannerCssClasses:function(){return"banner "+"backend-sandbox.json".replace(".json","").replace("backend-","")+"Backend"},baseUrl:function(){var e="";return""==e?"/":e}})},_=y,g=(n("fde8"),Object(p["a"])(_,s,a,!1,null,"54254476",null)),b=g.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"component-container",style:e.cssVars},[r("div",{ref:"table"},[r("div",{staticClass:"content-container"},[0==this.user_query.occurrences_keys.length?r("FacetsComponent",{ref:"facetsBox",staticClass:"facets-container",attrs:{filters:e.filters,user_query:e.user_query,updateRanking:e.updateRanking,updateQuery:e.updateQuery,updateBasisOfRecord:e.updateBasisOfRecord,updateFacetSelection:e.updateFacetSelection}}):e._e(),r("div",{staticClass:"full-container"},[e.in_progress?r("div",{staticClass:"centered-container"},[r("PulseLoader",{attrs:{color:e.theme_color.main}})],1):r("div",[e.in_progress?e._e():r("p",[e._v(" (Total: "+e._s(e.total)+" "+e._s(e.get_occurrence_name.toLowerCase())),e.total>1?r("span",[e._v("s")]):e._e(),e._v(") ")]),0==this.user_query.occurrences_keys.length?r("FiltersSelection",{attrs:{facets:this.user_query.facets_selection,updateFacetSelection:this.updateFacetSelection,resetFacets:this.resetFacets}}):e._e(),r("SortDropdown",{attrs:{updateSort:this.updateRanking,options:e.filters.ranking,selected:e.user_query.ranking}}),e.occurrences.length>0?r("div",{staticClass:"sub-container"},[r("div",{staticClass:"table-container"},[r("table",[r("div",{class:e.fields_popup},[r("div",{staticClass:"right-container"},[r("button",{staticClass:"button-close",attrs:{type:"button"},on:{click:function(t){return e.closeFields()}}},[r("img",{staticClass:"mini",attrs:{src:n("2d96")}}),e._v(" Close ")])]),r("div",{staticClass:"content-popup"},[r("h1",[e._v("Fields")]),e._l(e.occurrence_characteristics,(function(t){return r("p",{key:"allfields_"+t.title},[r("input",{attrs:{type:"checkbox",id:"fields",name:"fields"},domProps:{checked:t.selection},on:{change:function(n){return e.changeSelection(n,t.field)}}}),"nb"==t.title?r("span",[e._v(e._s(e.get_curation_name))]):e._e(),e._v(" "+e._s(t.title)+" ")])}))],2)]),r("thead",[r("tr",[r("th",[r("button",{staticClass:"button-th",on:{click:function(t){return e.popupFields()}}},[r("img",{staticClass:"mini",attrs:{src:n("436e")}})]),e._v(" "+e._s(e.get_occurrence_name)+" ID")]),e._l(e.fields_to_display,(function(t){return r("th",{key:"display_"+t.field},["nb"==t.title?r("span",[e._v(e._s(e.get_curation_name))]):e._e(),e._v(" "+e._s(t.title)+" ")])})),r("th",[e._v("Comments")]),r("th",[e._v("Status")]),r("th")],2)]),e._l(e.occurrences,(function(e,t){return r("tbody",{key:"occurrence_"+e.key,ref:"table_row",refInFor:!0},[r("OccurrencesElement",{attrs:{occurrence:e,index:t}})],1)}))],2)]),r("br"),r("div",{staticClass:"page-box"},[r("v-pagination",{attrs:{"page-count":e.page_total,classes:e.bootstrapPaginationClasses,labels:e.paginationAnchorTexts},model:{value:e.user_query.page,callback:function(t){e.$set(e.user_query,"page",t)},expression:"user_query.page"}})],1)]):e._e()],1)])],1)])])},O=[],x=n("3835"),C=(n("a15b"),n("4fad"),n("8ef7")),w=n.n(C),E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"facets-container",style:e.cssVars},[r("h2",[e._v("Query")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user_query.pre_q,expression:"user_query.pre_q",modifiers:{trim:!0}}],attrs:{type:"text",required:""},domProps:{value:e.user_query.pre_q},on:{input:function(t){t.target.composing||e.$set(e.user_query,"pre_q",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("button",{staticClass:"button",on:{click:function(t){return e.search()}}},[r("img",{staticClass:"mini",attrs:{src:n("6052")}})]),r("div",{staticClass:"radiobutton-container"},[r("input",{attrs:{type:"radio",id:"basisOfRecord",name:"basisOfRecord",value:"PRESERVED_SPECIMEN"},domProps:{checked:e.selectedBasis("PRESERVED_SPECIMEN")},on:{click:function(t){return e.updateBasis(t)}}}),r("label",{attrs:{for:"basisOfRecord"}},[e._v("Preserved specimen")]),r("br"),r("input",{attrs:{type:"radio",id:"basisOfRecord",name:"basisOfRecord",value:"MATERIAL_CITATION"},domProps:{checked:e.selectedBasis("MATERIAL_CITATION")},on:{click:function(t){return e.updateBasis(t)}}}),r("label",{attrs:{for:"basisOfRecord"}},[e._v("Material citation")]),r("br")]),r("h2",[e._v("Filters")]),e._l(this.filters.facets,(function(t){return r("div",{key:t.name},[r("FacetElement",{attrs:{facet:t,updateFacetSelection:e.updateFacetSelection,user_query:e.user_query}})],1)}))],2)},P=[],S=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PanelHideShow",{attrs:{expanded_init:e.visibility,size:"small"},on:{clicked:e.updateVisibility},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.facet.title))]},proxy:!0},{key:"content",fn:function(){return[e.in_progress?n("PulseLoader",{attrs:{color:e.theme_color.main}}):n("div",["year"!=e.facet.field&&"hasRelationWithStatus"!=e.facet.field?n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.pre_value,expression:"pre_value",modifiers:{trim:!0}}],ref:e.facet.field+"_input",attrs:{type:"text",required:"",placeholder:"search"},domProps:{value:e.pre_value},on:{input:function(t){t.target.composing||(e.pre_value=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}):e._e(),e.values.length>0?n("div",["year"==e.facet.field?n("div",[e._v(" "+e._s(e.user_query.facets_selection.year)+" "),n("vue-slider",{attrs:{data:e.values,marks:e.defined_labels,tooltip:"always"},model:{value:e.selected_date,callback:function(t){e.selected_date=t},expression:"selected_date"}})],1):n("div",e._l(e.values,(function(t){return n("div",{key:e.facet.field+"_"+t.value,staticClass:"inputGroup",on:{click:function(t){return e.changeFacet(e.facet.field,t)}}},[n("input",{attrs:{id:e.facet.field+"_"+t.value,name:t.value,type:"checkbox"},domProps:{value:t.value,checked:t.checked}}),n("label",{attrs:{for:e.facet.field+"_"+t.value}},[n("span",{staticClass:"name"},[e._v(" "+e._s(e.getPrettyItemValue(t))+" ")]),n("span",{staticClass:"count"},[e._v(e._s(t.count))])])])})),0)]):n("p",[e._v("No value found")])])]},proxy:!0}])})}),A=[],j=(n("d3b7"),n("ddb0"),n("caad"),n("2532"),n("a434"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"title"},[r("img",{directives:[{name:"show",rawName:"v-show",value:!e.expanded,expression:"!expanded"}],class:e.size,attrs:{src:n("c5a5"),alt:"[+]"},on:{click:function(t){return e.changeExpand()}}}),r("img",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],class:e.size,attrs:{src:n("6927"),alt:"[-]"},on:{click:function(t){return e.changeExpand()}}}),"medium"==e.size?r("h2",[e._t("title")],2):e._e(),"small"==e.size?r("h3",[e._t("title")],2):e._e()]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}]},[e._t("content")],2)])}),R=[],D={name:"PanelHideShow",props:{expanded_init:{type:Boolean,default:!1},size:{type:String,default:"medium"}},data:function(){return{expanded:this.expanded_init}},methods:{changeExpand:function(){this.expanded=!this.expanded,this.$emit("clicked",this.expanded)}}},I=D,L=(n("f6ae"),Object(p["a"])(I,j,R,!1,null,"6a9e4cee",null)),T=L.exports,q=(n("9ef3"),n("eb5f")),N=n("4971"),F=n.n(N),M=n("8a5d").default,B={name:"FacetElement",mixins:[q["a"].mixin_fields],components:{PanelHideShow:T,PulseLoader:M,VueSlider:F.a},props:{item_size:{type:Number,default:5},facet:{type:Object,required:!0},user_query:{type:Object,required:!0},updateFacetSelection:{type:Function,required:!0}},data:function(){return{in_progress:!0,values:[],pre_value:"",timer:null,selected_date:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["theme_color"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},visibility:function(){return this.user_query.facets_visibility[this.facet.field]},defined_labels:{get:function(){var e=this.values,t=Math.min.apply(Math,e),n=Math.max.apply(Math,e),r=[t,n];return r},set:function(e){this.value=e}}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateFacetVisibility","updatePage"])),{},{loadFacet:function(){var e=this;if("hasRelationWithStatus"==this.facet.field){this.in_progress=!0,this.values=[];var t=this.$backend.fetch_status_code();t.then((function(t){for(var n=[],r=0;r<Object.keys(t.data).length;r++){var i=Object.keys(t.data)[r];n.push({value:i,count:null,checked:!1})}e.values=e.updateFacetValues(n),e.in_progress=!1})).catch((function(t){console.log(t),e.in_progress=!1}))}else if(this.in_progress=!0,this.values=[],null!=this.user_query.basisOfRecord){var n=this.item_size;"year"==this.facet.field&&(n=1e4);var r=this.$backend.fetch_facet_values(this.facet.field,this.user_query,n,0);r.then((function(t){var n=t.data.results;e.values=e.updateFacetValues(n),e.in_progress=!1})).catch((function(t){console.log(t),e.in_progress=!1}))}else this.in_progress=!1},loadFacetWithKeywords:function(e){var t=this;this.in_progress=!0,this.values=[];var n=this.$backend.fetch_facet_values_with_keywords(this.facet.field,"*"+e+"*",this.user_query,this.item_size,0);n.then((function(e){var n=e.data.results;t.values=t.updateFacetValues(n),t.in_progress=!1,t.$nextTick((function(){t.$refs[t.facet.field+"_input"].focus()}))})).catch((function(e){console.log(e),t.in_progress=!1}))},updateFacetValues:function(e){if("year"==this.facet.field){for(var t=1e5,n=0,r=0;r<e.length;r++)e[r].value>n?n=e[r].value:e[r].value<t&&(t=e[r].value);for(var i=[],o=t;o<=n;o++)i.push(o);return 0!=this.user_query.facets_selection.year.length?this.selected_date=this.user_query.facets_selection.year:this.selected_date=[t,n],i}for(var s=[],a=[],c=0;c<e.length;c++)a.length<5&&""!=e[c].value&&a.push(e[c]);e=a;for(var u=0;u<e.length;u++)s.push(e[u].value),this.user_query.facets_selection[this.facet.field].includes(e[u].value)?e[u]["checked"]=!0:e[u]["checked"]=!1;for(var l=0;l<this.user_query.facets_selection[this.facet.field].length;l++){var d=this.user_query.facets_selection[this.facet.field][l];s.includes(d)||(e.push({value:d,count:0,checked:!0}),this.getCount(d))}return e},getCount:function(e){var t=this,n=this.$backend.fetch_facet_values_with_keywords(this.facet.field,e,this.user_query,this.item_size,0);n.then((function(n){if(n.data.results.length>0)for(var r=n.data.results[0],i=0;i<t.values.length;i++)t.values[i].value==e&&(t.values[i].count=r.count)})).catch((function(e){console.log(e)}))},changeFacet:function(e,t){if(void 0!=t.target.checked){var n=this.user_query.facets_selection[e];if(t.target.checked)n.push(t.target.value);else for(var r=0;r<n.length;r++)n[r]==t.target.value&&n.splice(r,1);this.updatePage(1),this.updateFacetSelection(Object.freeze({facet:e,list:n})),this.loadFacet()}},searchFacet:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.loadFacetWithKeywords(e)}),1e3)},updateVisibility:function(e){this.updateFacetVisibility({facet:this.facet.field,visibility:e})},getPrettyItemValue:function(e){var t="";return t="typeStatus"==this.facet.field?this.display_value_typeStatus(e.value):"hasRelationWithStatus"==this.facet.field?this.display_value_statusCode(e.value):e.value,t}}),mounted:function(){this.loadFacet()},watch:{"user_query.facets_selection":{handler:function(){this.loadFacet()},deep:!0},"user_query.q":function(){this.loadFacet()},pre_value:function(){this.searchFacet(this.pre_value)}}},V=B,$=(n("cdcc"),Object(p["a"])(V,S,A,!1,null,"567e3148",null)),U=$.exports,K={name:"FacetsComponent",components:{FacetElement:U},props:{item_size:{type:Number,default:5},filters:{type:Object,required:!0},user_query:{type:Object,required:!0},updateQuery:{type:Function,required:!0},updateRanking:{type:Function,required:!0},updateFacetSelection:{type:Function,required:!0},updateBasisOfRecord:{type:Function,required:!0}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["query","theme_color"])),{},{cssVars:function(){return{"--color":this.theme_color.main}}}),methods:{search:function(){this.updateQuery(this.user_query.pre_q)},selectedBasis:function(e){return this.user_query.basisOfRecord==e},updateBasis:function(e){this.updateBasisOfRecord(e.target.value)}}},Y=K,z=(n("eb79"),Object(p["a"])(Y,E,P,!1,null,"d5c23f4c",null)),J=z.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.cssVars},[n("div",{staticClass:"active-filters"},[e._l(e.active_filters,(function(t){return n("span",{key:t.name,staticClass:"filter-name"},[n("span",{staticClass:"filter-remove",on:{click:function(n){return e.removeFilter(t.type,t.name)}}},[e._v("x ")]),e._v(" "+e._s(t.name)+" ")])})),e.active_filters.length>1?n("span",{staticClass:"filters-remove"},[n("span",{on:{click:e.resetFacets}},[e._v("Remove all filters")])]):e._e()],2)])},W=[],G={name:"FiltersSelection",props:{facets:{type:Object,required:!0},updateFacetSelection:{type:Function,required:!0},resetFacets:{type:Function,required:!0}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["theme_color"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},active_filters:function(){for(var e=[],t=0,n=Object.entries(this.facets);t<n.length;t++){var r=Object(x["a"])(n[t],2),i=r[0],o=r[1];if("year"==i);else for(var s=0;s<o.length;s++){var a={};a.name=o[s],a.type=i,e.push(a)}}return e}}),methods:{removeFilter:function(e,t){for(var n=this.facets[e],r=0;r<n.length;r++)n[r]==t&&n.splice(r,1);this.updateFacetSelection({facet:e,list:n})}}},Q=G,Z=(n("7283"),Object(p["a"])(Q,H,W,!1,null,"6a7b2032",null)),X=Z.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{class:e.tr_even,style:e.cssVars},[r("td",{staticClass:"space"},[r("a",{attrs:{href:"https://www.gbif.org/occurrence/"+e.occurrence["key"],target:"_blank"}},[e._v(e._s(e.occurrence.key))])]),e._l(e.fields_to_display,(function(t){return r("td",{key:t.title},[e._v(e._s(e.getValue(t.field)))])})),e.comment_count?r("td",[e._v(" "+e._s(e.comment_count)+" "),r("img",{staticClass:"mini",attrs:{src:n("d665")}})]):r("td"),r("td",["unknown"!=e.status_name?r("img",{staticClass:"small",attrs:{src:n("2613")("./icon_status_"+e.status_name+".png")}}):r("span",[e._v("unknown")])]),r("td",[r("button",{staticClass:"button-td",on:{click:function(t){return e.displayOccurrence()}}},[r("img",{staticClass:"mini",attrs:{src:n("113d")}})])])],2)},te=[],ne=n("807d"),re=ne["a"],ie=(n("6e1f"),Object(p["a"])(re,ee,te,!1,null,"697d0a71",null)),oe=ie.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown-container",style:e.cssVars},[n("div",{staticClass:"dropdown"},[n("p",[e._v("Sort by "),n("span",{staticClass:"selected-option"},[e._v(e._s(e.selected_name))])]),n("div",{staticClass:"dropdown-content"},e._l(e.options,(function(t){return n("p",{key:"sortby_"+t.field,on:{click:function(n){return e.updateSort(t.field)}}},[e._v(e._s(t.title))])})),0)])])},ae=[],ce={name:"SortDropdown",props:{selected:{type:String,required:!0},options:{type:Array,required:!0},updateSort:{type:Function,required:!0}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["theme_color"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},selected_name:function(){for(var e=0;e<this.options.length;e++)if(this.options[e].field==this.selected)return this.options[e].title;return this.selected}}),methods:{}},ue=ce,le=(n("3049"),Object(p["a"])(ue,se,ae,!1,null,"5ca1b596",null)),de=le.exports,fe=n("8a5d").default,he={name:"OccurrencesList",components:{vPagination:w.a,FacetsComponent:J,OccurrencesElement:oe,FiltersSelection:X,PulseLoader:fe,SortDropdown:de},data:function(){return{occurrences:[],in_progress:!1,total:0,popup_visibility:!1,bootstrapPaginationClasses:{ul:"pagination",li:"page-item",liActive:"active",liDisable:"disabled",button:"page-link"},paginationAnchorTexts:{first:"<<",prev:"<",next:">",last:">>"}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["user_query","filters","fields","theme_color","landing","occurrence_characteristics"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},fields_to_display:function(){for(var e=[],t=0;t<this.occurrence_characteristics.length;t++)this.occurrence_characteristics[t].selection&&e.push(this.occurrence_characteristics[t]);return e},get_occurrence_name:function(){return this.user_query.basisOfRecord?this.fields[this.user_query.basisOfRecord].basisOfRecord_occurrence.name:""},get_curation_name:function(){return this.user_query.basisOfRecord?this.fields[this.user_query.basisOfRecord].basisOfRecord_curation.name:""},page_total:function(){return Math.ceil(this.total/this.user_query.limit)},fields_popup:function(){return"fields-popup "+this.popup_visibility}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateQuery","updateFacetSelection","updateRanking","resetFacets","updateOccurrencesKeys","udpateLanding","updateFieldsSelection","updateBasisOfRecord"])),{},{searchOccurrencesAPI:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.in_progress=!0,this.occurrences=[];var n=null;n=this.user_query.occurrences_keys.length>0?this.$backend.fetch_occurrences_from_occurrencekeys(this.user_query.occurrences_keys):this.$backend.fetch_occurrences_from_q(this.user_query),n.then((function(n){if(e.occurrences=n.data.results,e.user_query.occurrences_keys.length>0){for(var r=[],i=0;i<n.data.results.length;i++)r.push(n.data.results[i].key);e.updateOccurrencesKeys(r)}var o={};""!=e.user_query.q&&(o["q"]=e.user_query.q),"PRESERVED_SPECIMEN"!=e.user_query.basisOfRecord&&(o["basisOfRecord"]=e.user_query.basisOfRecord),1!=e.user_query.page&&(o["page"]=e.user_query.page),"scientificName"!=e.user_query.ranking&&(o["ranking"]=e.user_query.ranking),e.user_query.occurrences_keys.length>0&&(o["occurrencesKeys"]=e.user_query.occurrences_keys.join(","));for(var s=0,a=Object.entries(e.user_query.facets_selection);s<a.length;s++){var c=Object(x["a"])(a[s],2),u=c[0],l=c[1];if(l.length>0){for(var d=[],f=0;f<l.length;f++)d.push(l[f]);o[u]=d.join("|")}}e.$router.replace({query:o}).catch((function(){})),e.total=n.data.count,e.in_progress=!1,null!=t&&e.$nextTick((function(){for(var n=0,r=0;r<e.occurrences.length;r++)if(e.occurrences[r].key==t){n=r;break}var i=e.$refs.table_row[n];i&&i.scrollIntoView({behavior:"smooth"})}))})).catch((function(e){console.log(e),alert("failed to load occurrences : "+e)}))},popupFields:function(){this.popup_visibility=!this.popup_visibility},closeFields:function(){this.popup_visibility=!1},changeSelection:function(e,t){for(var n=this.occurrence_characteristics,r=0;r<this.occurrence_characteristics.length;r++)this.occurrence_characteristics[r].field==t&&(this.occurrence_characteristics[r].selection=e.target.checked);this.updateFieldsSelection(n)}}),watch:{"user_query.page":function(){this.$refs["table"].scrollIntoView({behavior:"smooth"}),this.closeFields(),this.udpateLanding(),this.searchOccurrencesAPI()},"user_query.ranking":function(){this.closeFields(),this.udpateLanding(),this.searchOccurrencesAPI()},"user_query.q":function(){this.closeFields(),this.udpateLanding(),this.searchOccurrencesAPI()},"user_query.basisOfRecord":function(){this.closeFields(),this.udpateLanding(),this.searchOccurrencesAPI()},"user_query.facets_selection":{handler:function(){this.closeFields(),this.udpateLanding(),this.searchOccurrencesAPI()},deep:!0}}},pe=he,ve=(n("3963"),Object(p["a"])(pe,k,O,!1,null,"3660ed34",null)),me=ve.exports,ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"component-container",style:e.cssVars},[e.in_progress?r("div",{staticClass:"centered-container"},[r("PulseLoader",{attrs:{color:e.theme_color.main}})],1):e._e(),e.warning?r("div",{staticClass:"alert alert-warning"},[e._v(" Occurrence "+e._s(e.user_query.occurrence_key)+" not found ")]):e._e(),r("div",{staticClass:"table-container"},[e.in_progress||e.warning?e._e():r("table",[r("tr",{staticClass:"empty-line"},[r("td",{attrs:{colspan:"100"}},[r("div",{staticClass:"separator"},[r("h2",[r("span",[e._v(e._s(e.get_occurrence_name)+" "+e._s(e.user_query.occurrence_key)+" "+e._s(e.get_description))])])])])]),r("tr",[r("th",[e._v("Key")]),r("th"),e._l(e.curation_characteristics,(function(t){return r("th",{key:t.score+"main-th"},[e._v(e._s(t.name))])})),r("th",{attrs:{colspan:"2"}}),r("th")],2),r("tr",{staticClass:"reference-entity"},[r("td",[r("a",{attrs:{href:"https://www.gbif.org/occurrence/"+e.user_query.occurrence_key,target:"_blank"}},[e._v(e._s(e.user_query.occurrence_key))])]),r("td"),e._l(e.curation_characteristics,(function(t){return[t.value?r("td",{key:t.score+"main-td",class:"cell_"+t.score},[e._v(e._s(e.display_content(e.get_occurrence,t.value)))]):e._e()]})),r("td",{attrs:{colspan:"2"}}),r("td",["MATERIAL_CITATION"==e.user_query.basisOfRecord?r("button",{staticClass:"button-table",on:{click:function(t){e.expanded=!e.expanded}}},[e.expanded?e._e():r("img",{staticClass:"mini",attrs:{src:n("28b9")}}),e.expanded?r("img",{staticClass:"mini",attrs:{src:n("043b")}}):e._e()]):e._e()])],2),e.expanded?r("tr",{staticClass:"expanded"},[r("td",{attrs:{colspan:"100"}},[e.get_occurrence.verbatimLabel?r("div",{staticClass:"expanded-box"},[e._v(" "+e._s(e.get_occurrence.verbatimLabel)+" ")]):e._e(),"references"in e.get_occurrence?r("div",{staticClass:"expanded-box"},[r("label",[e._v("Data source:")]),r("ul",[r("li",[r("a",{attrs:{href:e.get_occurrence.references,target:"_blank"}},[e._v("Treatment")])]),"identifier"in e.get_occurrence?r("li",[r("a",{attrs:{href:e.get_mc,target:"_blank"}},[e._v("Material citation")])]):e._e()])]):e._e(),"references"in e.get_occurrence?r("div",{staticClass:"expanded-box"},[r("a",{attrs:{href:e.get_report_link,target:"_blank"}},[e._v("Report an error on the content")])]):e._e()])]):e._e(),r("tr",{staticClass:"empty-line"},[r("td",{attrs:{colspan:"100"}},[r("br"),r("br"),r("div",{staticClass:"separator"},[r("h2",[r("span",[e._v(e._s(e.get_curation_name)+"s associated with the "+e._s(e.get_occurrence_name.toLowerCase())+" "+e._s(e.user_query.occurrence_key))])])]),r("p",[e._v(" "+e._s(e.to_process_curation.length)+" suggested "+e._s(e.get_curation_name.toLowerCase())+e._s(e.to_process_curation.length>1?"s":"")+" to curate ")]),r("p",{staticClass:"notice"},[e._v("Please indicate for each suggested "+e._s(e.get_curation_name.toLowerCase())+" whether it matches the "+e._s(e.get_occurrence_name.toLowerCase())+" or not (Yes / No).")])])]),e.to_process_curation.length>0?r("tr",[r("th",[e._v("Key")]),r("th",{on:{click:function(t){return e.sortBy("$global")}}},[e._v("Score")]),e._l(e.curation_characteristics,(function(t){return r("th",{key:t.score+"sp-th",staticClass:"clickable-th",on:{click:function(n){return e.sortBy(t.score)}}},[e._v(e._s(t.name))])})),r("th",[e._v("Decision")]),r("th",[e._v("Comment")]),r("th")],2):e._e(),e._l(e.to_process_curation,(function(t,n){return r("CurationElement",{directives:[{name:"show",rawName:"v-show",value:e.in_current_page(n),expression:"in_current_page(index)"}],key:t.occurrenceKey2,attrs:{pre_occurrence:e.occurrences[t.occurrenceKey2],pre_matching:t,pre_scores:e.get_scores(e.occurrences[e.user_query.occurrence_key],e.occurrences[t.occurrenceKey2])},on:{updateCuration:e.updateCuration}})})),e.page_total>1?r("tr",{staticClass:"empty-line centered-empty"},[r("td",{attrs:{colspan:"100"}},[r("div",{staticClass:"page-box"},[r("v-pagination",{attrs:{"page-count":e.page_total,classes:e.bootstrapPaginationClasses,labels:e.paginationAnchorTexts},model:{value:e.current_page,callback:function(t){e.current_page=t},expression:"current_page"}})],1)])]):e._e(),e._l(e.empty_elements,(function(t){return r("CurationElement",{key:t,attrs:{all_occurrences:e.occurrences},on:{updateCuration:e.updateCuration,addCuration:e.addCuration,deleteCuration:e.deleteCuration}})})),r("tr",{staticClass:"empty-line"},[r("td",{attrs:{colspan:"100"}},[r("div",{staticClass:"left-container"},[r("a",{on:{click:e.addLine}},[e._v("+ Add another "+e._s(e.get_curation_name.toLowerCase()))])])])]),e.finished_curation.length>0?r("tr",{staticClass:"empty-line"},[r("td",{attrs:{colspan:"100"}},[r("br"),r("br"),r("img",{directives:[{name:"show",rawName:"v-show",value:!e.show_edit,expression:"!show_edit"}],staticClass:"mini",attrs:{src:n("c5a5"),alt:"[+]"},on:{click:function(t){e.show_edit=!e.show_edit}}}),r("img",{directives:[{name:"show",rawName:"v-show",value:e.show_edit,expression:"show_edit"}],staticClass:"mini",attrs:{src:n("6927"),alt:"[-]"},on:{click:function(t){e.show_edit=!e.show_edit}}}),e._v(" "+e._s(e.finished_curation.length)+" "+e._s(e.get_curation_name.toLowerCase())),e.finished_curation.length>1?r("span",[e._v("s")]):e._e(),e._v(" already curated ")])]):e._e(),e.show_edit&&e.finished_curation.length>0?r("tr",[r("th",[e._v("Key")]),r("th",[e._v("Score")]),e._l(e.curation_characteristics,(function(t){return r("th",{key:t.score+"sp-th",staticClass:"clickable-th"},[e._v(e._s(t.name))])})),r("th",[e._v("Decision")]),r("th",[e._v("Comment")]),r("th")],2):e._e(),e.show_edit&&e.finished_curation.length>0?e._l(e.finished_curation,(function(t){return r("CurationElement",{key:t.occurrenceKey2,attrs:{pre_occurrence:e.occurrences[t.occurrenceKey2],pre_matching:t,pre_scores:e.get_scores(e.occurrences[e.user_query.occurrence_key],e.occurrences[t.occurrenceKey2])},on:{updateCuration:e.updateCuration}})})):e._e()],2)]),e.in_progress||e.warning?e._e():r("div",[r("div",{staticClass:"button-container"},[r("button",{staticClass:"back-button",on:{click:function(t){return e.nosaveBack()}}},[e._v("Go back to list")]),r("button",{on:{click:function(t){return e.nosaveNext()}}},[e._v("Continue to the next "+e._s(e.get_occurrence_name.toLowerCase()))]),r("br"),r("br"),r("button",{directives:[{name:"show",rawName:"v-show",value:e.changes>0,expression:"changes > 0"}],staticClass:"back-button",on:{click:function(t){return e.saveBack()}}},[e._v("Save and Go back to list")]),r("button",{directives:[{name:"show",rawName:"v-show",value:e.changes>0,expression:"changes > 0"}],on:{click:function(t){return e.saveNext()}}},[e._v("Save and Continue to the next "+e._s(e.get_occurrence_name.toLowerCase()))])]),e._m(0)])])},_e=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left-container"},[n("h3",[e._v("Color legend for the matching score")]),n("table",{staticClass:"legend-table"},[n("tr",[n("td",[n("div",{staticClass:"color-box cell-color-1"})]),n("td",[n("div",{staticClass:"color-box cell-color-2"})]),n("td",[n("div",{staticClass:"color-box cell-color-3"})]),n("td",[n("div",{staticClass:"color-box cell-color-4"})]),n("td",[n("div",{staticClass:"color-box cell-color-5"})]),n("td",[n("div",{staticClass:"color-box cell-color-6"})]),n("td",[n("div",{staticClass:"color-box cell-color-7"})]),n("td",[n("div",{staticClass:"color-box cell-color-8"})]),n("td",[n("div",{staticClass:"color-box cell-color-9"})]),n("td",[n("div",{staticClass:"color-box cell-color-10"})]),n("td",[n("div",{staticClass:"color-box cell-color-11"})])]),n("tr",[n("td",[e._v("1")]),n("td",[e._v("0.9")]),n("td",[e._v("0.8")]),n("td",[e._v("0.7")]),n("td",[e._v("0.6")]),n("td",[e._v("0.5")]),n("td",[e._v("0.4")]),n("td",[e._v("0.3")]),n("td",[e._v("0.2")]),n("td",[e._v("0.1")]),n("td",[e._v("0.0")])])]),n("a",{attrs:{href:"/scoring",target:"_blank"}},[e._v("Scoring algorithm")])])}],ge=n("b85c"),be=(n("fb6a"),n("4de4"),n("466d"),n("25f0"),n("4e82"),n("99af"),n("07ac"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tbody",[r("tr",[e.pre_occurrence?r("td",{staticClass:"key"},[r("a",{attrs:{href:"https://www.gbif.org/occurrence/"+e.occurrence.key,target:"_blank"}},[e._v(e._s(e.occurrence.key))])]):r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.occurrence_key,expression:"occurrence_key"}],staticClass:"empty_key",domProps:{value:e.occurrence_key},on:{blur:function(t){return e.fetchOccurrence()},input:function(t){t.target.composing||(e.occurrence_key=t.target.value)}}}),e.empty_link?r("a",{attrs:{href:e.empty_link,target:"_blank"}},[r("img",{staticClass:"mini",attrs:{src:n("3952")}})]):e._e(),e.warning?r("span",{staticClass:"warning"},[r("br"),e._v(e._s(e.warning))]):e._e()]),e.occurrence?[r("td",{class:e.cellColor(e.scores.$global)},[e._v(e._s(e.scores.$global))]),e._l(e.curation_characteristics,(function(t){return r("td",{key:t.score+"sp-td",class:"cell_"+t.score+" "+e.cellColor(e.scores[t.score])},[e._v(" "+e._s(e.display_content(e.occurrence,t.value))+" ")])})),r("td",{staticClass:"decision"},[r("input",{attrs:{type:"checkbox"},domProps:{checked:"yes"==e.status},on:{click:function(t){return e.changeSelection(t,"yes")}}}),e._v(" Yes "),r("br"),r("input",{attrs:{type:"checkbox"},domProps:{checked:"no"==e.status},on:{click:function(t){return e.changeSelection(t,"no")}}}),e._v(" No "),r("br"),r("input",{attrs:{type:"checkbox"},domProps:{checked:"undecided"==e.status},on:{click:function(t){return e.changeSelection(t,"undecided")}}}),e._v(" Undecided ")]),r("td",{staticClass:"comment"},[r("CommentElement",{attrs:{occurrence_key:e.matching.occurrenceKey1,curation_key:e.matching.occurrenceKey2}})],1),r("td",[e.occurrence.verbatimLabel?r("button",{staticClass:"button-table",on:{click:function(t){e.expanded=!e.expanded}}},[e.expanded?e._e():r("img",{staticClass:"mini",attrs:{src:n("28b9")}}),e.expanded?r("img",{staticClass:"mini",attrs:{src:n("043b")}}):e._e()]):e._e()])]:[r("td"),0==e.in_progress?e._l(e.curation_characteristics,(function(e){return r("td",{key:e.score+"sp-td-em",staticClass:"cell-color-na"})})):e._l(e.curation_characteristics,(function(t){return r("td",{key:t.score+"sp-td-em",staticClass:"cell-color-na"},[r("PulseLoader",{attrs:{color:e.theme_color.main,size:"5px"}})],1)})),r("td",{staticClass:"decision"}),r("td",{staticClass:"comment"}),r("td")]],2),e.expanded?r("tr",{staticClass:"expanded"},[r("td",{attrs:{colspan:"100"}},[e.occurrence.verbatimLabel?r("div",{staticClass:"expanded-box"},[e._v(" "+e._s(e.occurrence.verbatimLabel)+" ")]):e._e(),"references"in e.occurrence?r("div",{staticClass:"expanded-box"},[r("label",[e._v("Data source:")]),r("ul",[r("li",[r("a",{attrs:{href:e.occurrence.references,target:"_blank"}},[e._v("Treatment")])]),"identifier"in e.occurrence?r("li",[r("a",{attrs:{href:e.get_mc,target:"_blank"}},[e._v("Material citation")])]):e._e()])]):e._e(),"references"in e.occurrence?r("div",{staticClass:"expanded-box"},[r("a",{attrs:{href:e.get_report_link,target:"_blank"}},[e._v("Report an error on the content")])]):e._e()])]):e._e()])}),ke=[],Oe=(n("00b4"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.in_progress?r("PulseLoader",{attrs:{color:e.theme_color.main}}):e._e(),e.in_progress?e._e():r("div",[r("button",{staticClass:"button-table",on:{click:function(t){return e.openComments()}}},[r("img",{staticClass:"small",attrs:{src:n("d665")}})]),r("br"),e._v(" "+e._s(e.comments.length)+" comment"),e.comments.length>1?r("span",[e._v("s")]):e._e()]),r("div",{class:e.comments_popup},[r("div",{staticClass:"right-container"},[r("button",{staticClass:"button-close",attrs:{type:"button"},on:{click:function(t){return e.closeComments()}}},[r("img",{staticClass:"mini",attrs:{src:n("2d96")}}),e._v(" Close ")])]),r("h1",[e._v("Comments")]),r("div",{ref:"commentsContainer",staticClass:"comments-container"},[e._l(e.comments,(function(t){return r("div",{key:t.id,class:e.comment_class(t.orcid)},[r("label",{attrs:{for:"msg"}},[r("b",{staticClass:"orcid-link",on:{click:function(n){return e.goToOrcid(t.orcid)}}},[e._v(e._s(t.userName))])]),e._v(" wrote on "+e._s(new Date(t.timestamp).toGMTString())+" "),r("p",[e._v(e._s(t.text))])])})),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],attrs:{placeholder:"Type a comment",name:"msg",required:""},domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}}),r("div",{staticClass:"right-container"},[r("button",{staticClass:"button-validation",attrs:{type:"button",disabled:e.to_disable},on:{click:function(t){return e.postComment()}}},[e._v(" Send ")])])],2)])],1)}),xe=[],Ce=n("8a5d").default,we={name:"CommentElement",components:{PulseLoader:Ce},props:{occurrence_key:{type:Number,required:!0},curation_key:{type:Number,required:!0}},data:function(){return{in_progress:!0,comments:[],comments_visibility:!1,comment:"",pending_post:""}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["theme_color","user"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},comments_popup:function(){return"comments-popup "+this.comments_visibility},to_disable:function(){return""==this.comment}}),methods:{loadComment:function(){var e=this;this.in_progress=!0,this.comments=[];var t=this.$backend.fetch_comments(this.occurrence_key,this.curation_key);t.then((function(t){e.comments=t.data.results,e.scrollToBottom(),e.in_progress=!1})).catch((function(t){console.log(t),e.in_progress=!1}))},openComments:function(){this.comments_visibility=!0},closeComments:function(){var e=0==this.comment.length||confirm("Are you sure you want to leaving without sending your comment?");e&&(this.comments_visibility=!1,this.comment="")},postComment:function(){this.pending_comment=this.comment,this.$emitter.emit("ensureLogin")},sendComment:function(){var e=this;this.in_progress=!0;var t={occurrenceKey1:this.occurrence_key,occurrenceKey2:this.curation_key,text:this.pending_comment,orcid:this.user.orcid,userName:this.user.name},n=this.$backend.post_comment(t);n.then((function(){e.comment="",e.loadComment()})).catch((function(t){console.log(t),e.in_progress=!1}))},comment_class:function(e){var t="comment-container";return e==this.user.orcid&&(t+=" user"),t},goToOrcid:function(e){window.open("http://orcid.org/"+e)},scrollToBottom:function(){var e=this;this.$nextTick((function(){var t=e.$refs.commentsContainer;t.scrollTop=t.scrollHeight}))}},beforeMount:function(){this.loadComment()},mounted:function(){var e=this;this.$emitter.on("logged",(function(){""!=e.pending_comment&&(e.sendComment(e.pending_comment),e.pending_comment="",e.$gtag.event("post_comment"))})),this.$emitter.on("loginAbort",(function(){""!=e.pending_comment&&(e.pending_comment="",alert("Your comment is not saved"))}))}},Ee=we,Pe=(n("9fe1"),Object(p["a"])(Ee,Oe,xe,!1,null,"c3bc57f8",null)),Se=Pe.exports,Ae=n("8a5d").default,je={name:"CurationElement",mixins:[q["a"].mixin_fields],components:{CommentElement:Se,PulseLoader:Ae},props:{pre_occurrence:{type:Object},pre_matching:{type:Object},pre_scores:{type:Object},all_occurrences:{type:Object}},data:function(){return{status:null,expanded:!1,occurrence_key:"",occurrence:null,matching:null,scores:null,warning:null,in_progress:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["theme_color","user_query","curation_characteristics","fields"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},get_mc:function(){return"https://treatment.plazi.org/id/"+this.occurrence.identifier.replace(".mc.","#")},get_report_link:function(){return"https://github.com/plazi/community/issues/new?body=Please%20leave%20your%20comment%20here...%0A%0A**Context**%0A%5BGBIF%20occurrence%5D(https%3A%2F%2Fwww.gbif.org%2Foccurrence%2F"+this.occurrence.key+")%0A%5BPlazi%20reference%5D("+this.occurrence.references+")"},get_curation_name:function(){return this.fields[this.user_query.basisOfRecord].basisOfRecord_curation.name},empty_link:function(){return/^http/.test(this.occurrence_key)?this.occurrence_key:/^\d+$/.test(this.occurrence_key)?"https://www.gbif.org/occurrence/"+this.occurrence_key:null}}),methods:{normalizeValue:function(e){return null==e?"NA":e},cellColor:function(e){var t="cell-color-na";return null==e?t="cell-color-na":e>=1?t="cell-color-1":e>=.9?t="cell-color-2":e>=.8?t="cell-color-3":e>=.7?t="cell-color-4":e>=.6?t="cell-color-5":e>=.5?t="cell-color-6":e>=.4?t="cell-color-7":e>=.3?t="cell-color-8":e>=.2?t="cell-color-9":e>=.1?t="cell-color-10":e>=0&&(t="cell-color-11"),t},changeSelection:function(e,t){"yes"==t?(1==e.target.checked&&(this.status="yes"),0==e.target.checked&&(this.status="unknown")):"no"==t?(1==e.target.checked&&(this.status="no"),0==e.target.checked&&(this.status="unknown")):"undecided"==t&&(1==e.target.checked&&(this.status="undecided"),0==e.target.checked&&(this.status="unknown"));var n={};n="yes"==this.status?{statusCode:"DONE",decision:!0}:"no"==this.status?{statusCode:"DONE",decision:!1}:"undecided"==this.status?{statusCode:"UDCB",decision:null}:{statusCode:"PNDG",decision:null},this.$emit("updateCuration",{key:this.occurrence.key,matching:n})},toggle:function(){this.expanded=!this.expanded},fetchOccurrence:function(){this.occurrence&&this.$emit("deleteCuration",{key:this.occurrence.key}),this.warning=null,this.occurrence=null,this.matching=null,this.occurrence_key in this.all_occurrences&&(this.warning="already in suggested "+this.get_curation_name.toLowerCase()+"s"),this.occurrence_key==this.user_query.occurrence_key&&(this.warning="current curation object"),null==this.warning&&""!=this.occurrence_key&&/^\d+$/.test(this.occurrence_key)&&this.loadGBIF()},loadGBIF:function(){var e=this;this.in_progress=!0,this.$backend.fetch_occurrence(this.occurrence_key,!0).then((function(t){"occurrences"in t.data&&e.occurrence_key in t.data.occurrences?(e.occurrence=t.data.occurrences[e.occurrence_key],e.occurrence["key"]=parseInt(e.occurrence_key),e.status="yes",e.scores={},e.matching={occurrenceKey1:parseInt(e.user_query.occurrence_key),occurrenceKey2:parseInt(e.occurrence_key),statusCode:"DONE",decision:!0},e.$emit("addCuration",{key:e.occurrence_key,matching:e.matching})):e.warning="unknown GBIF key",e.in_progress=!1}))}},beforeMount:function(){null!=this.pre_occurrence&&(this.occurrence=this.pre_occurrence,this.scores=this.pre_scores,this.matching=this.pre_matching,"DONE"==this.matching.statusCode?1==this.matching.decision?this.status="yes":0==this.matching.decision&&(this.status="no"):"UDCB"==this.matching.statusCode?this.status="undecided":this.status="unknown")}},Re=je,De=(n("4b20"),Object(p["a"])(Re,be,ke,!1,null,"5ed1cc28",null)),Ie=De.exports,Le=n("8a5d").default,Te={name:"CurationList",mixins:[q["a"].mixin_fields],components:{CurationElement:Ie,PulseLoader:Le,vPagination:w.a},data:function(){return{in_progress:!0,warning:!1,occurrences:{},relations:[],empty_relations:[],empty_elements:[],change_list:{},changes:0,sort:{by:"$global",asc:!1},show_edit:!1,expanded:!1,pendingSave:[],action:null,current_page:1,per_page:10,bootstrapPaginationClasses:{ul:"pagination",li:"page-item",liActive:"active",liDisable:"disabled",button:"page-link"},paginationAnchorTexts:{first:"<<",prev:"<",next:">",last:">>"}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["theme_color","curation_characteristics","user_query","fields","user","step","institutions"])),{},{cssVars:function(){return{"--color":this.theme_color.main,"--color-secondary":this.theme_color.secondary}},get_occurrence:function(){return this.occurrences[this.user_query.occurrence_key]},get_occurrence_name:function(){var e=this.fields[this.user_query.basisOfRecord].basisOfRecord_occurrence.name;return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},get_curation_name:function(){return this.fields[this.user_query.basisOfRecord].basisOfRecord_curation.name},get_description:function(){return this.user_query.occurrence_key in this.occurrences&&"institutionKey"in this.occurrences[this.user_query.occurrence_key]?"from "+this.institutions[this.occurrences[this.user_query.occurrence_key].institutionKey]:""},get_mc:function(){return this.get_occurrence.references+this.get_occurrence.identifier.replace(".mc.","#")},to_process_curation:function(){return this.filterListToDo(this.relations,"PNDG")},finished_curation:function(){return this.filterListDone(this.relations,"PNDG")},to_process_empty:function(){var e=this.empty_elements;return e=e.filter((function(e){return null==e.matching.match})),e},page_total:function(){return Math.ceil(this.relations.length/this.per_page)},item_min:function(){return(this.current_page-1)*this.per_page},item_max:function(){return this.current_page*this.per_page},get_report_link:function(){return"https://github.com/plazi/community/issues/new?body=Please%20leave%20your%20comment%20here...%0A%0A**Context**%0A%5BGBIF%20occurrence%5D(https%3A%2F%2Fwww.gbif.org%2Foccurrence%2F"+this.get_occurrence.key+")%0A%5BPlazi%20reference%5D("+this.get_occurrence.references+")"}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateOccurrenceKey","updateUsername"])),{},{searchCurationAPI:function(){var e=this,t=Object(o["a"])(Object(o["a"])({},this.$router.currentRoute.query),{},{occurrenceKey:this.user_query.occurrence_key});Object.entries(t).toString()!==Object.entries(this.$router.currentRoute.query).toString()&&this.$router.replace({name:this.$router.currentRoute.name,query:t}),this.changes=0,this.change_list={},this.warning=!1,this.in_progress=!0;var n=null;n=this.$backend.fetch_occurrence(this.user_query.occurrence_key),n.then((function(t){if("occurrences"in t.data){e.relations=t.data.occurrenceRelations,e.occurrences=t.data.occurrences;for(var n=0,r=Object.entries(e.occurrences);n<r.length;n++){var i=Object(x["a"])(r[n],2),o=i[0],s=i[1];s["key"]=o,e.occurrences[o]=s}}else e.warning=!0;e.in_progress=!1})).catch((function(e){console.log(e),alert("failed to load relations: "+e)}))},searchNextCurationAPI:function(){var e=this,t=null;t=this.$backend.fetch_next_occurrence_from_q(this.user_query,this.user_query.occurrence_key),t.then((function(t){e.updateOccurrenceKey(t.data.subjectOccurrenceKeys[0])})).catch((function(t){alert("There are no more occurrence to process."),e.in_progress=!1,e.nosaveBack(),console.log(t)}))},searchNextByList:function(){for(var e=this.user_query.occurrence_key,t=0;t<this.user_query.occurrences_keys.length;t++)e==this.user_query.occurrences_keys[t]&&(t<this.user_query.occurrences_keys.length-1?this.updateOccurrenceKey(this.user_query.occurrences_keys[t+1]):(alert("There are no more occurrence to process."),this.in_progress=!1,this.nosaveBack()))},filterListToDo:function(e,t){var n=this,r=function(e){var t=n.$scoring.get_scores(n.occurrences[n.user_query.occurrence_key],n.occurrences[e.occurrenceKey2]),r=t[n.sort.by];return null!=r?parseFloat(r):-1};return this.sort.asc?e.sort((function(e,t){return r(e)-r(t)})):e.sort((function(e,t){return r(t)-r(e)})),e=e.filter((function(e){return e.statusCode==t})),e},filterListDone:function(e,t){return e.filter((function(e){return e.statusCode!=t}))},get_scores:function(e,t){return null==e||null==t?{$global:null}:this.$scoring.get_scores(e,t)},updateCuration:function(e){for(var t=this.relations.concat(this.empty_relations),n=0;n<t.length;n++)t[n].occurrenceKey2==e.key&&(t[n].statusCode==e.matching.statusCode&&t[n].decision==e.matching.decision?e.key in this.change_list&&delete this.change_list[e.key]:this.change_list[e.key]=e);this.changes=Object.keys(this.change_list).length},addCuration:function(e){this.change_list[e.key]=e,this.changes=Object.keys(this.change_list).length,this.empty_relations.push(e.matching)},deleteCuration:function(e){delete this.change_list[e.key],this.changes=Object.keys(this.change_list).length;for(var t=0;t<this.empty_relations.length;t++)if(e.key==this.empty_relations[t].occurrenceKey2){this.empty_relations.splice(t,1);break}},nosaveBack:function(){var e=0==Object.keys(this.change_list).length||confirm("Are you sure you want to leaving without saving?");e&&(this.in_progress=!0,this.empty_elements=[],this.current_page=1,this.$emit("back"),this.$gtag.event("back"))},nosaveNext:function(){var e=0==Object.keys(this.change_list).length||confirm("Are you sure you want to continue without saving?");e&&(this.in_progress=!0,this.empty_elements=[],this.current_page=1,0==this.user_query.occurrences_keys.length?this.searchNextCurationAPI():this.searchNextByList())},saveBack:function(){this.save(),this.action="back"},saveNext:function(){this.save(),this.action="next"},saveStop:function(){this.save(),this.action="stop"},save:function(){this.pendingSave=Object.keys(this.change_list),this.$emitter.emit("ensureLogin")},sortBy:function(e){e==this.sort.by?this.sort.asc=!this.sort.asc:(this.sort.by=e,this.sort.asc=!1)},in_current_page:function(e){return e>=this.item_min&&e<this.item_max},addLine:function(){this.empty_elements.push("emptykey_"+this.empty_elements.length)},saveToSibBackend:function(e){var t,n={},r=Object(ge["a"])(this.user_query.occurrence_key.relations);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.object.key]={occurrence:Object(o["a"])({},i.object),decision:i.matching.match,is_new_decision:!1},delete n[i.object.key].occurrence.relations}}catch(c){r.e(c)}finally{r.f()}for(var s=0;s<e.length;s++)n[e[s]].decision=this.change_dict[this.change_list[s]],n[e[s]].is_new_decision=!0;var a={q:this.user_query.q,user:{name:this.user.name,orcid:this.user.orcid},refOccurrence:Object(o["a"])({},this.user_query.occurrence_key),relations:Object.values(n)};delete a.refOccurrence.relations,this.$backend.post_sib_matching(a).then((function(){})).catch((function(){}))},saveToPlaziBackend:function(e){for(var t=this,n=[],r=0;r<e.length;r++){var i={occurrenceKey1:this.user_query.occurrence_key,occurrenceKey2:e[r],decision:this.change_list[e[r]].matching.decision,statusCode:this.change_list[e[r]].matching.statusCode,userName:this.user.name,orcid:this.user.orcid};n.push(i)}var o={occurrenceRelations:n};this.$backend.post_matching(o).then((function(){t.change_list={},"back"==t.action?t.nosaveBack():"next"==t.action?t.nosaveNext():"stop"==t.action&&t.searchCurationAPI()})).catch((function(e){alert("Failed to save"+e)}))}}),mounted:function(){var e=this;this.$emitter.on("logged",(function(){if(e.pendingSave.length>0){var t=e.pendingSave.slice();e.pendingSave=[],e.saveToPlaziBackend(t),e.$gtag.event("save")}})),this.$emitter.on("loginAbort",(function(){e.pendingSave.length>0&&(e.pendingSave=[],alert("Your work is not saved"))}))},watch:{"user_query.occurrence_key":function(){null!=this.user_query.occurrence_key&&""!=this.user_query.occurrence_key&&"3"==this.step&&this.searchCurationAPI()}}},qe=Te,Ne=(n("ca96"),n("a119"),Object(p["a"])(qe,ye,_e,!1,null,"8179ca88",null)),Fe=Ne.exports,Me={name:"HomePage",components:{BannerComponent:b,OccurrencesList:me,CurationList:Fe},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["user_query","step","landing"])),{},{is_disabled:function(){return!(this.user_query.pre_q.length>0)}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updatePreQuery","updateQuery","updateBasisOfRecord","updatePage","updateRanking","updateFacetSelection","updateOccurrenceKey","updateOccurrencesKeys","updateStep","resetFacets","updateInstitutions"])),{},{runSearchFromURL:function(){null==this.user_query.occurrence_key?this.displayOccurrences(this.user_query.basisOfRecord,this.user_query.page):null!=this.user_query.occurrence_key&&this.displayCuration()},displayOccurrences:function(e,t){this.updateBasisOfRecord(e),this.updatePage(t),this.updateStep(2),this.updateQuery(this.user_query.pre_q),this.$refs.occurrencesList.searchOccurrencesAPI(),this.$gtag.event("displayOccurrences_"+e,{q:this.user_query.q,page:this.user_query.page,occurrencesKeys:this.user_query.occurrences_keys})},reloadOccurrences:function(){var e=this.user_query.occurrence_key;this.updateStep(2),this.updateOccurrenceKey(null),this.$refs.occurrencesList.searchOccurrencesAPI(e)},displayCuration:function(){this.updateStep(3),this.$refs.curationList.searchCurationAPI(),this.$gtag.event("displayOccurrence",{occurrence:this.user_query.occurrence_key})},loadParametersFromURL:function(){this.updateStep(2);var e="";"q"in this.$route.query&&this.$route.query.q.length>0&&(e=this.$route.query.q),this.updatePreQuery(e),this.updateQuery(e);var t=null;"basisOfRecord"in this.$route.query&&this.$route.query.basisOfRecord.length>0&&(t=this.$route.query.basisOfRecord,"PRESERVED_SPECIMEN"!=t&&"MATERIAL_CITATION"!=t&&(t=null)),null!=t&&this.updateBasisOfRecord(t);var n=1;"page"in this.$route.query&&this.$route.query.page.length>0&&(n=parseInt(this.$route.query.page)),this.updatePage(n);var r="scientificName";"ranking"in this.$route.query&&this.$route.query.ranking.length>0&&(r=this.$route.query.ranking),this.updateRanking(r);for(var i=0,o=Object.keys(this.user_query.facets_selection);i<o.length;i++){var s=o[i];if(s in this.$route.query&&this.$route.query[s].length>0){var a=this.$route.query[s].split("|");"year"==s?(a=a.map((function(e){return parseInt(e,10)})),this.updateFacetSelection(Object.freeze({facet:s,list:a}))):this.updateFacetSelection(Object.freeze({facet:s,list:a}))}}var c=null;"occurrenceKey"in this.$route.query&&this.$route.query.occurrenceKey.length>0&&(c=this.$route.query.occurrenceKey),this.updateOccurrenceKey(c);var u=[];"occurrencesKeys"in this.$route.query&&this.$route.query.occurrencesKeys.length>0&&(u=this.$route.query.occurrencesKeys.split(",")),this.updateOccurrencesKeys(u)},loadInstitutions:function(){var e=this,t=this.$backend.fetch_institutions(),n={};t.then((function(t){for(var r=0;r<t.data.length;r++){var i=t.data[r].key;n[i]=t.data[r].name}e.updateInstitutions(n)})).catch((function(e){console.log(e)}))}}),beforeMount:function(){this.loadParametersFromURL(),this.loadInstitutions()},mounted:function(){this.runSearchFromURL()}},Be=Me,Ve=(n("717e"),Object(p["a"])(Be,r,i,!1,null,"2227c0f8",null));t["default"]=Ve.exports},f6ae:function(e,t,n){"use strict";n("4f89")},f748:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},f94a:function(e,t,n){e.exports=n.p+"img/icon_status_finished.b299b5e9.png"},f9fd:function(e,t,n){},fde8:function(e,t,n){"use strict";n("ce49")}}]);
//# sourceMappingURL=home.7aba3acb.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home~occurrence~occurrenceList"],{"0303":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.bannerCssClasses,style:t.cssVars},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t._m(0),s("h1",[t._v(t._s(t.title))]),s("p",[s("i",[t._v(t._s(t.subtitle))])])])])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"float-start position-absolute"},[n("img",{staticClass:"medium-img",attrs:{src:s("dd27")}})])}],a=s("5530"),i=(s("ac1f"),s("5319"),s("2f62")),r={name:"BannerComponent",props:{title:{type:String,required:!0},subtitle:{type:String,required:!0,default:""}},computed:Object(a["a"])(Object(a["a"])({},Object(i["c"])(["theme_color"])),{},{cssVars:function(){return{"--color-main":this.theme_color.main,"--color-secondary":this.theme_color.secondary}},bannerCssClasses:function(){return"banner "+"backend-sandbox.json".replace(".json","").replace("backend-","")+"Backend"}})},o=r,l=(s("fdce"),s("2877")),u=Object(l["a"])(o,n,c,!1,null,"04a733de",null);e["a"]=u.exports},"043b":function(t,e,s){t.exports=s.p+"img/icon_reduce.72cce8bc.png"},2532:function(t,e,s){"use strict";var n=s("23e7"),c=s("e330"),a=s("5a34"),i=s("1d80"),r=s("577e"),o=s("ab13"),l=c("".indexOf);n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~l(r(i(this)),r(a(t)),arguments.length>1?arguments[1]:void 0)}})},"28b9":function(t,e,s){t.exports=s.p+"img/icon_expand.01503fbf.png"},3952:function(t,e,s){t.exports=s.p+"img/icon_link.0979c4cd.png"},"3f00":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container",style:t.cssVars},[n("div",{staticClass:"separator"},[n("h2",[n("span",[t._v(t._s(t.get_curation_name)+"s associated with the "+t._s(t.get_occurrence_name.toLowerCase())+" "+t._s(t.occurrences_selection.key))])])]),n("p",[t._v(t._s(t.occurrences_selection.verbatimLabel))]),n("table",[n("tr",{staticClass:"empty-line"},[n("td",{attrs:{colspan:t.curation_characteristics.length+4}},[n("br"),n("br"),t._v(t._s(t.get_occurrence_name.toLowerCase())+" "+t._s(t.occurrences_selection.key))])]),n("tr",[n("th",[t._v("Key")]),n("th"),t._l(t.curation_characteristics,(function(e){return n("th",{key:e.score+"sp-th"},[t._v(t._s(e.name))])})),n("th",{attrs:{colspan:"3"}}),n("th")],2),n("tr",{staticClass:"reference-entity"},[n("td",[n("a",{attrs:{href:"https://www.gbif.org/occurrence/"+t.occurrences_selection.key,target:"_blank"}},[t._v(t._s(t.occurrences_selection.key))])]),n("td"),t._l(t.curation_characteristics,(function(e){return[e.value?n("td",{key:e.score+"mc_td"},[t._v(t._s(t.display_content(t.occurrences_selection,e.value)))]):t._e()]})),n("td",{attrs:{colspan:"3"}}),n("td",[n("button",{staticClass:"button-table",on:{click:function(e){t.expanded=!t.expanded}}},[t.expanded?t._e():n("img",{staticClass:"mini",attrs:{src:s("28b9")}}),t.expanded?n("img",{staticClass:"mini",attrs:{src:s("043b")}}):t._e()])])],2),t.expanded?n("tr",{staticClass:"expanded"},[n("td"),n("td",{attrs:{colspan:t.curation_characteristics.length+1}},[t.occurrences_selection.verbatimLabel?n("div",{staticClass:"expanded-box"},[t._v(" "+t._s(t.occurrences_selection.verbatimLabel)+" ")]):t._e(),n("div",{staticClass:"expanded-box"},[n("a",{attrs:{href:t.occurrences_selection.references,target:"_blank"}},[t._v("Reference to TreatmentBank")])])]),n("td",{attrs:{colspan:"4"}})]):t._e(),n("tr",{staticClass:"empty-line"},[n("td",{attrs:{colspan:"18"}},[n("br"),n("br"),t._v(t._s(t.processed_curation.length)+" suggested "+t._s(t.get_curation_name.toLowerCase())),t.processed_curation.length>1?n("span",[t._v("s")]):t._e(),t._v(" to curate")])]),t.processed_curation.length>0?n("tr",[n("th",[t._v("Key")]),n("th",{on:{click:function(e){return t.sortBy("$global")}}},[t._v("Score")]),t._l(t.curation_characteristics,(function(e){return n("th",{key:e.score+"sp-th",staticClass:"clickable-th",on:{click:function(s){return t.sortBy(e.score)}}},[t._v(t._s(e.name))])})),n("th",[t._v("Yes")]),n("th",[t._v("No")]),n("th",[t._v("Save")]),n("th")],2):t._e(),t._l(t.processed_curation,(function(e){return n("CurationElement",{key:e.object.key,attrs:{curation:e,scores:t.get_scores(t.occurrences_selection,e.object),save:"Save",status_save_all:t.status_save_all},on:{removeOne:t.removeElement,addOne:t.addElement}})})),t._l(t.processed_empty_elements,(function(e){return n("EmptyElement",{key:e.empty_key,attrs:{curation:e,save:"Save",status_save_all:t.status_save_all},on:{removeOne:t.removeElement,addOne:t.addElement}})})),n("tr",{staticClass:"empty-line"},[n("td",{attrs:{colspan:t.curation_characteristics.length+4}},[n("div",{staticClass:"left-container"},[n("a",{on:{click:t.addLine}},[t._v("+ Add another "+t._s(t.get_curation_name.toLowerCase()))])])])]),t.finished_curation.length>0||t.finished_empty_elements.length>0?n("tr",{staticClass:"empty-line"},[n("td",{attrs:{colspan:t.curation_characteristics.length+4}},[n("br"),n("br"),n("img",{directives:[{name:"show",rawName:"v-show",value:!t.show_edit,expression:"!show_edit"}],staticClass:"mini",attrs:{src:s("c5a5"),alt:"[+]"},on:{click:function(e){t.show_edit=!t.show_edit}}}),n("img",{directives:[{name:"show",rawName:"v-show",value:t.show_edit,expression:"show_edit"}],staticClass:"mini",attrs:{src:s("6927"),alt:"[-]"},on:{click:function(e){t.show_edit=!t.show_edit}}}),t._v(" "+t._s(t.finished_curation.length+t.finished_empty_elements.length)+" "+t._s(t.get_curation_name.toLowerCase())),t.finished_curation.length+t.finished_empty_elements.length>1?n("span",[t._v("s")]):t._e(),t._v(" already curated ")])]):t._e(),t.show_edit&&(t.finished_curation.length>0||t.finished_empty_elements.length>0)?n("tr",[n("th",[t._v("Key")]),n("th",[t._v("Score")]),t._l(t.curation_characteristics,(function(e){return n("th",{key:e.score+"sp-th",staticClass:"clickable-th"},[t._v(t._s(e.name))])})),n("th",[t._v("Yes")]),n("th",[t._v("No")]),n("th",[t._v("Edit")]),n("th")],2):t._e(),t.show_edit&&t.finished_curation.length>0?t._l(t.finished_curation,(function(e){return n("CurationElement",{key:e.object.key,attrs:{curation:e,scores:t.get_scores(t.occurrences_selection,e.object),save:"Edit",status_save_all:t.status_save_all},on:{removeOne:t.removeElement,addOne:t.addElement}})})):t._e(),t.show_edit&&t.finished_empty_elements.length>0?t._l(t.finished_empty_elements,(function(e){return n("EmptyElement",{key:e.empty_key,attrs:{curation:e,save:"Edit",status_save_all:t.status_save_all},on:{removeOne:t.removeElement,addOne:t.addElement}})})):t._e()],2),n("div",[n("div",{staticClass:"button-container"},[t.show_back_button?n("button",{staticClass:"secondary",on:{click:function(e){return t.back()}}},[t._v("Back to list")]):t._e(),n("button",{attrs:{disabled:t.to_disable},on:{click:function(e){return t.save()}}},[t._v("Save")])]),t._m(0)])])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left-container"},[s("h3",[t._v("Color legend for the matching score")]),s("table",{staticClass:"legend-table"},[s("tr",[s("td",[s("div",{staticClass:"color-box cell-color-1"})]),s("td",[s("div",{staticClass:"color-box cell-color-2"})]),s("td",[s("div",{staticClass:"color-box cell-color-3"})]),s("td",[s("div",{staticClass:"color-box cell-color-4"})]),s("td",[s("div",{staticClass:"color-box cell-color-5"})]),s("td",[s("div",{staticClass:"color-box cell-color-6"})]),s("td",[s("div",{staticClass:"color-box cell-color-7"})]),s("td",[s("div",{staticClass:"color-box cell-color-8"})]),s("td",[s("div",{staticClass:"color-box cell-color-9"})]),s("td",[s("div",{staticClass:"color-box cell-color-10"})]),s("td",[s("div",{staticClass:"color-box cell-color-11"})])]),s("tr",[s("td",[t._v("1")]),s("td",[t._v("0.9")]),s("td",[t._v("0.8")]),s("td",[t._v("0.7")]),s("td",[t._v("0.6")]),s("td",[t._v("0.5")]),s("td",[t._v("0.4")]),s("td",[t._v("0.3")]),s("td",[t._v("0.2")]),s("td",[t._v("0.1")]),s("td",[t._v("0.0")])])])])}],a=s("5530"),i=(s("b0c0"),s("4e82"),s("4de4"),s("d3b7"),s("ac1f"),s("466d"),s("b64b"),s("a434"),s("caad"),s("2532"),s("00b4"),s("2f62")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tbody",[n("tr",[n("td",[n("a",{attrs:{href:"https://www.gbif.org/occurrence/"+t.curation.object.key,target:"_blank"}},[t._v(t._s(t.curation.object.key))])]),n("td",{class:t.cellColor(t.scores.$global)},[t._v(t._s(t.scores.$global))]),t._l(t.curation_characteristics,(function(e){return n("td",{key:e.score+"sp-td",class:t.cellColor(t.scores[e.score])},[t._v(" "+t._s(t.display_content(t.curation.object,e.value))+" ")])})),n("td",[n("input",{attrs:{type:"checkbox"},domProps:{checked:t.is_yes_selected},on:{click:function(e){return t.changeSelection(e,"yes")}}})]),n("td",[n("input",{attrs:{type:"checkbox"},domProps:{checked:t.is_no_selected},on:{click:function(e){return t.changeSelection(e,"no")}}})]),n("td",[n("button",{attrs:{disabled:t.to_disable},on:{click:function(e){return t.saveSelection()}}},[t._v(t._s(t.save))])]),n("td",[t.curation.object.verbatimLabel?n("button",{staticClass:"button-table",on:{click:function(e){t.expanded=!t.expanded}}},[t.expanded?t._e():n("img",{staticClass:"mini",attrs:{src:s("28b9")}}),t.expanded?n("img",{staticClass:"mini",attrs:{src:s("043b")}}):t._e()]):t._e()])],2),t.expanded?n("tr",{staticClass:"expanded"},[n("td"),n("td",{staticClass:"cell-color-na",attrs:{colspan:t.curation_characteristics.length+1}},[t.curation.object.verbatimLabel?n("div",{staticClass:"expanded-box"},[t._v(" "+t._s(t.curation.object.verbatimLabel)+" ")]):t._e(),n("div",{staticClass:"expanded-box"},[n("a",{attrs:{href:t.curation.object.references,target:"_blank"}},[t._v("Reference to TreatmentBank")])])]),n("td",{attrs:{colspan:"4"}})]):t._e()])},o=[],l={name:"CurationElement",components:{},props:{curation:{type:Object,required:!0},scores:{type:Object,required:!0},save:{type:String,default:"Save"},status_save_all:{}},data:function(){return{status:null,saved_status:null,expanded:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(i["c"])(["theme_color","urls","curation_characteristics","fields","format_selection","occurrences_selection","user"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},get_occurrence_name:function(){return this.fields[this.format_selection].format_occurrence.name},get_curation_name:function(){return this.fields[this.format_selection].format_curation.name},is_yes_selected:function(){return"yes"==this.status},is_no_selected:function(){return"no"==this.status},to_disable:function(){return 1==this.curation.matching.match&&1==this.is_yes_selected||(0==this.curation.matching.match&&1==this.is_no_selected||null==this.curation.matching.match&&0==this.is_yes_selected&&0==this.is_no_selected)}}),methods:Object(a["a"])(Object(a["a"])({},Object(i["b"])(["updateUsername"])),{},{normalizeValue:function(t){return null==t?"NA":t},cellColor:function(t){var e="cell-color-na";return null==t?e="cell-color-na":t>=1?e="cell-color-1":t>=.9?e="cell-color-2":t>=.8?e="cell-color-3":t>=.7?e="cell-color-4":t>=.6?e="cell-color-5":t>=.5?e="cell-color-6":t>=.4?e="cell-color-7":t>=.3?e="cell-color-8":t>=.2?e="cell-color-9":t>=.1?e="cell-color-10":t>=0&&(e="cell-color-11"),e},display_content:function(t,e){for(var s="",n=0;n<e.length;n++)e[n]in t&&(s.length>0&&(s+="/"),s+=t[e[n]]);return s},changeSelection:function(t,e){"yes"==e?(1==t.target.checked&&(this.status="yes"),0==t.target.checked&&(this.status="unknown")):"no"==e&&(1==t.target.checked&&(this.status="no"),0==t.target.checked&&(this.status="unknown"));var s=null;"yes"==this.status&&(s=!0),"no"==this.status&&(s=!1),this.status!=this.saved_status?this.$emit("addOne",{key:this.curation.object.key,value:s}):this.$emit("removeOne",{key:this.curation.object.key,value:s})},saveName:function(){var t=prompt("Please enter your name or ORCID","");""==t?this.saveName():null==t?alert("Your work is not saved"):this.updateUsername(t)},saveSelection:function(){var t=this;if(null==this.user.name&&this.saveName(),null!=this.user.name){var e=null;"yes"==this.status&&(e=!0),"no"==this.status&&(e=!1);var s={occurrenceKey1:this.occurrences_selection.key,occurrenceKey2:this.curation.object.key,decision:e,username:this.user.name},n={occurrenceRelations:[s]};this.$backend.post_matching(n).then((function(){t.curation.matching.match=e,t.saved_status=t.status,t.$emit("removeOne",{key:t.curation.object.key,value:e})})).catch((function(t){alert("Failed to save"+t)}))}},toggle:function(){this.expanded=!this.expanded},updateSavedStatus:function(){alert("test")}}),beforeMount:function(){null==this.status&&(null==this.curation.matching.match?this.status="unknown":1==this.curation.matching.match?this.status="yes":0==this.curation.matching.match&&(this.status="no")),this.saved_status=this.status},watch:{status_save_all:function(){this.saved_status=this.status}}},u=l,h=(s("d833"),s("2877")),d=Object(h["a"])(u,r,o,!1,null,"393b8370",null),_=d.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tbody",[n("tr",[n("td",["Save"==t.save?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.curation.object.key,expression:"curation.object.key"}],domProps:{value:t.curation.object.key},on:{blur:function(e){return t.loadKey()},input:function(e){e.target.composing||t.$set(t.curation.object,"key",e.target.value)}}}),t.empty_link?n("a",{attrs:{href:t.empty_link,target:"_blank"}},[n("img",{staticClass:"mini",attrs:{src:s("3952")}})]):t._e()]):t._e(),"Save"!=t.save?n("span",[t.empty_link?n("a",{attrs:{href:t.empty_link,target:"_blank"}},[t._v(t._s(t.curation.object.key))]):n("span",[t._v(t._s(t.curation.object.key))])]):t._e(),t.warning?n("span",{staticClass:"warning"},[n("br"),t._v(t._s(t.warning))]):t._e()]),n("td",{staticClass:"cell-color-na"},[t._v("manual")]),0==t.in_progress?t._l(t.curation_characteristics,(function(e){return n("td",{key:e.score+"sp-td-em",staticClass:"cell-color-na"},[t._v(" "+t._s(t.display_content(t.curation.object,e.value))+" ")])})):t._l(t.curation_characteristics,(function(e){return n("td",{key:e.score+"sp-td-em",staticClass:"cell-color-na"},[n("PulseLoader",{attrs:{color:t.theme_color.main,size:"5px"}})],1)})),n("td",[t.show_button?n("input",{attrs:{type:"checkbox"},domProps:{checked:t.is_yes_selected},on:{click:function(e){return t.changeSelection(e,"yes")}}}):t._e()]),n("td",[t.show_button?n("input",{attrs:{type:"checkbox"},domProps:{checked:t.is_no_selected},on:{click:function(e){return t.changeSelection(e,"no")}}}):t._e()]),n("td",[t.show_button?n("button",{attrs:{disabled:t.to_disable},on:{click:function(e){return t.saveSelection()}}},[t._v(t._s(t.save))]):t._e()]),n("td",[t.curation.object.verbatimLabel?n("button",{staticClass:"button-table",on:{click:function(e){t.expanded=!t.expanded}}},[t.expanded?t._e():n("img",{staticClass:"mini",attrs:{src:s("28b9")}}),t.expanded?n("img",{staticClass:"mini",attrs:{src:s("043b")}}):t._e()]):t._e()])],2),t.expanded?n("tr",{staticClass:"expanded"},[n("td"),n("td",{staticClass:"cell-color-na",attrs:{colspan:t.curation_characteristics.length+1}},[t._v(" "+t._s(t.curation.object.verbatimLabel)+" ")]),n("td",{attrs:{colspan:"4"}})]):t._e()])},p=[],f=(s("e9c4"),s("8a5d").default),v={name:"CurationElement",components:{PulseLoader:f},props:{curation:{type:Object,required:!0},save:{type:String,default:"Save"}},data:function(){return{warning:null,key:"",status:null,saved_status:null,expanded:!1,in_progress:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(i["c"])(["theme_color","urls","curation_characteristics","fields","format_selection","occurrences_selection"])),{},{cssVars:function(){return{"--color":this.theme_color.main}},get_occurrence_name:function(){return this.fields[this.format_selection].format_occurrence.name},get_curation_name:function(){return this.fields[this.format_selection].format_curation.name},is_yes_selected:function(){return"yes"==this.status},is_no_selected:function(){return"no"==this.status},show_button:function(){return null==this.warning&&""!=this.curation.object.key},empty_link:function(){return/^http/.test(this.curation.object.key)?this.curation.object.key:/^\d+$/.test(this.curation.object.key)?"https://www.gbif.org/occurrence/"+this.curation.object.key:null},to_disable:function(){return this.saved_status==this.status}}),methods:{normalizeValue:function(t){return null==t?"NA":t},display_content:function(t,e){for(var s="",n=0;n<e.length;n++)e[n]in t&&(s.length>0&&(s+="/"),s+=t[e[n]]);return s},changeSelection:function(t,e){"yes"==e?(1==t.target.checked&&(this.status="yes"),0==t.target.checked&&(this.status="unknown")):"no"==e&&(1==t.target.checked&&(this.status="no"),0==t.target.checked&&(this.status="unknown"));var s=null;"yes"==this.status&&(s=!0),"no"==this.status&&(s=!1),this.status!=this.saved_status?this.$emit("addOne",{key:this.curation.empty_key,value:s}):this.$emit("removeOne",{key:this.curation.empty_key,value:s})},saveSelection:function(){var t=this,e=null;if("yes"==this.status&&(e=!0),"no"==this.status&&(e=!1),/^\d+$/.test(this.curation.object.key)){var s={occurrenceKey1:this.occurrences_selection.key,occurrenceKey2:parseInt(this.curation.object.key),decision:e},n={occurrenceRelations:[s]};alert(this.urls.matching),alert(JSON.stringify(n)),this.$backend.post_matching(n).then((function(s){alert(JSON.stringify(s)),t.curation.matching.match=e,t.saved_status=t.status,t.$emit("removeOne",{key:t.curation.empty_key,value:e})})).catch((function(t){alert("Failed to save"+t)}))}else this.curation.matching.match=e,this.saved_status=this.status,this.$emit("removeOne",{key:this.curation.empty_key,value:e})},loadKey:function(){this.warning=null;for(var t=0;t<this.occurrences_selection.relations.length;t++)if(this.curation.object.key==this.occurrences_selection.relations[t].object.key){this.warning="already in suggested "+this.get_curation_name.toLowerCase()+"s";break}""!=this.curation.object.key&&/^\d+$/.test(this.curation.object.key)?this.loadGBIF():this.curation.object={key:this.curation.object.key},this.status="yes"},loadGBIF:function(){var t=this;this.in_progress=!0,this.$backend.fetch_occurrence(this.curation.object.key,!0).then((function(e){if("occurrences"in e.data&&t.curation.object.key in e.data.occurrences){var s=t.curation.object.key;t.curation.object=e.data.occurrences[t.curation.object.key],t.curation.object["key"]=s}else t.curation.object={key:t.curation.object.key};t.in_progress=!1})).catch((function(e){t.curation.object={key:t.curation.object.key,error:e},t.warning="unknown GBIF key"}))}},beforeMount:function(){null==this.status&&(null==this.curation.matching.match?this.status="unknown":1==this.curation.matching.match?this.status="yes":0==this.curation.matching.match&&(this.status="no")),this.saved_status=this.status}},b=v,y=(s("6b89"),Object(h["a"])(b,m,p,!1,null,"b2e3d88a",null)),g=y.exports,k={name:"CurationList",components:{CurationElement:_,EmptyElement:g},props:{show_back_button:{type:Boolean,required:!1,default:!0}},data:function(){return{empty_elements:[],change_list:[],change_dict:{},status_save_all:0,sort:{by:"$global",asc:!1},show_edit:!1,expanded:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(i["c"])(["urls","theme_color","institution_selection","datasets_selection","occurrences_selection","matching","curation_characteristics","format_selection","fields","user"])),{},{cssVars:function(){return{"--color":this.theme_color.main,"--color-secondary":this.theme_color.secondary}},get_occurrence_name:function(){return this.fields[this.format_selection].format_occurrence.name},get_curation_name:function(){return this.fields[this.format_selection].format_curation.name},processed_curation:function(){var t=this,e=this.occurrences_selection.relations,s=function(e){var s=t.$scoring.get_scores(t.occurrences_selection,e.object),n=s[t.sort.by];return null!=n?parseFloat(n):-1};return this.sort.asc?e.sort((function(t,e){return s(t)-s(e)})):e.sort((function(t,e){return s(e)-s(t)})),e=e.filter((function(t){return null==t.matching.match})),e},finished_curation:function(){var t=this.occurrences_selection.relations;return t=t.filter((function(t){return null!=t.matching.match})),t},processed_empty_elements:function(){var t=this.empty_elements;return t=t.filter((function(t){return null==t.matching.match})),t},finished_empty_elements:function(){var t=this.empty_elements;return t=t.filter((function(t){return null!=t.matching.match})),t},to_disable:function(){return!(Object.keys(this.change_list).length>0)}}),methods:Object(a["a"])(Object(a["a"])({},Object(i["b"])(["updateOccurrencesSelection","updateMatching","updateStep","updateUsername"])),{},{get_scores:function(t,e){return null==t||null==e?{$global:null}:this.$scoring.get_scores(t,e)},display_content:function(t,e){for(var s="",n=0;n<e.length;n++)e[n]in t&&(s.length>0&&(s+="/"),s+=t[e[n]]);return s},removeElement:function(t){var e=this.change_list.indexOf(t.key);e>-1&&this.change_list.splice(e,1)},addElement:function(t){this.change_list.includes(t.key)||this.change_list.push(t.key),this.change_dict[t.key]=t.value},saveName:function(){var t=prompt("Please enter your name or ORCID","");""==t?this.saveName():null==t?alert("Your work is not saved"):this.updateUsername(t)},save:function(){var t=this;if(null==this.user.name&&this.saveName(),null!=this.user.name){for(var e=[],s=0;s<this.change_list.length;s++)if(/^\d+$/.test(this.change_list[s])){var n={occurrenceKey1:this.occurrences_selection.key,occurrenceKey2:this.change_list[s],decision:this.change_dict[this.change_list[s]],username:this.user.name};e.push(n)}var c={occurrenceRelations:e};this.$backend.post_matching(c).then((function(){for(var e=0;e<t.occurrences_selection.relations.length;e++)t.change_list.includes(t.occurrences_selection.relations[e].object.key)&&(t.occurrences_selection.relations[e].matching.match=t.change_dict[t.occurrences_selection.relations[e].object.key]);for(var s=0;s<t.empty_elements.length;s++)t.change_list.includes(t.empty_elements[s].empty_key)&&(t.empty_elements[s].matching.match=t.change_dict[t.empty_elements[s].empty_key]);t.change_list=[],t.change_dict={},t.status_save_all+=1})).catch((function(t){alert("Failed to save"+t)}))}},back:function(){var t=0==this.change_list.length||confirm("Are you sure you want to leaving without saving?");t&&(this.updateOccurrencesSelection(null),this.$emit("clicked"))},sortBy:function(t){t==this.sort.by?this.sort.asc=!this.sort.asc:(this.sort.by=t,this.sort.asc=!1)},addLine:function(){var t={object:{}};t.object.key="",t.empty_key="emptykey_"+this.empty_elements.length,t.matching={},t.matching.match=null,this.empty_elements.push(t),this.addElement({key:t.empty_key,value:!0})}})},A=k,C=(s("7890"),Object(h["a"])(A,n,c,!1,null,"7d51cc82",null));e["a"]=C.exports},"5a34":function(t,e,s){var n=s("da84"),c=s("44e7"),a=n.TypeError;t.exports=function(t){if(c(t))throw a("The method doesn't accept regular expressions");return t}},"671b":function(t,e,s){"use strict";s("73af")},6927:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAACRCAYAAADD2FojAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAABAVJREFUeAHtne1pG0EURTNCfdjpJJ0kqSTqJE4nKUWpZDOC/BBGCmNYuB97BAZ5Pey7756DJds/PC7z8YkHDaw18DqPXe+P3vwZ8+O6bdvL/Rd4TgOrDYwxPp9WD3OOBp41gETPmuH6cgNItFwVB581cOL90LNquL7awGm+MfqzephzNPCoAV7OHrXCtQ81gEQfqovDjxo4P7r4/tp8yfs1r13fX+fz7gbm++UfKxsuSTRvdPvF5HXlhpzpaWAy/7bygxcvZz3MZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2CRLJqu8ZjEQ9LGWbIJGs+p7BSNTDUrYJEsmq7xmMRD0sZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2CRLJqu8ZjEQ9LGWbIJGs+p7BSNTDUrYJEsmq7xmMRD0sZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2CRLJqu8ZjEQ9LGWbIJGs+p7BSNTDUrYJEsmq7xmMRD0sZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2CRLJqu8ZjEQ9LGWbIJGs+p7BSNTDUrYJEsmq7xmMRD0sZZsgkaz6nsFI1MNStgkSyarvGYxEPSxlmyCRrPqewUjUw1K2yVk1+d//XP+pmt80d4zxffb5ptqJ70Sq5ovmIlERTNUqSKRqvmguEhXBVK2CRKrmi+YiURFM1SpIpGq+aC4SFcFUrYJEquaL5iJREUzVKkikar5orvJvZ2+zx9sHj/AG+E4UDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AxIFA7QIT4SOVAIz4BE4QAd4iORA4XwDEgUDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AxIFA7QIT4SOVAIz4BE4QAd4iORA4XwDEgUDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AxIFA7QIT4SOVAIz4BE4QAd4iORA4XwDEgUDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AxIFA7QIT4SOVAIz4BE4QAd4iORA4XwDEgUDtAhPhI5UAjPgEThAB3iI5EDhfAMSBQO0CE+EjlQCM+AROEAHeIjkQOF8AznxfyX+bgunuVYSQPbtr2srLIk0bzZ15WbceaYDfBydkzuu26NRLvWecybIdExue+6NRLtWucxb4ZEx+S+69ZItGudx7wZEh2T+65b335PdBljvN7d9ct8/vvuc57SwH8b+AspFDJmv8EizgAAAABJRU5ErkJggg=="},"6aba":function(t,e,s){},"6b89":function(t,e,s){"use strict";s("e9cb")},"73af":function(t,e,s){},7890:function(t,e,s){"use strict";s("8e09")},"8a5d":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"v-spinner"},[s("div",{staticClass:"v-pulse v-pulse1",style:[t.spinnerStyle,t.spinnerDelay1]}),s("div",{staticClass:"v-pulse v-pulse2",style:[t.spinnerStyle,t.spinnerDelay2]}),s("div",{staticClass:"v-pulse v-pulse3",style:[t.spinnerStyle,t.spinnerDelay3]})])},c=[],a={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},i=a,r=(s("671b"),s("2877")),o=Object(r["a"])(i,n,c,!1,null,null,null);e["default"]=o.exports},"8e09":function(t,e,s){},a434:function(t,e,s){"use strict";var n=s("23e7"),c=s("da84"),a=s("23cb"),i=s("5926"),r=s("07fa"),o=s("7b0b"),l=s("65f0"),u=s("8418"),h=s("1dde"),d=h("splice"),_=c.TypeError,m=Math.max,p=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var s,n,c,h,d,b,y=o(this),g=r(y),k=a(t,g),A=arguments.length;if(0===A?s=n=0:1===A?(s=0,n=g-k):(s=A-2,n=p(m(i(e),0),g-k)),g+s-n>f)throw _(v);for(c=l(y,n),h=0;h<n;h++)d=k+h,d in y&&u(c,h,y[d]);if(c.length=n,s<n){for(h=k;h<g-n;h++)d=h+n,b=h+s,d in y?y[b]=y[d]:delete y[b];for(h=g;h>g-n+s;h--)delete y[h-1]}else if(s>n)for(h=g-n;h>k;h--)d=h+n-1,b=h+s-1,d in y?y[b]=y[d]:delete y[b];for(h=0;h<s;h++)y[h+k]=arguments[h+2];return y.length=g-n+s,c}})},ab13:function(t,e,s){var n=s("b622"),c=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[c]=!1,"/./"[t](e)}catch(n){}}return!1}},c5a5:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAACRCAYAAADD2FojAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAABHRJREFUeAHtnYFtGkEQRQNKH3Y6SScklUAncTpxOiGVXPYkpEE2l90bzWjR/IdkaX23O8u8/wTYxsfh0m5fuEFgjMBrm3a9n7r6c2hf12VZXu5PMIbAKIHD4fDtODqZeRDYIoBEW2Q4PkwAiYZRMXGLwJHXQ1toOD5K4NheGP0dncw8CDwiwNPZIyoc20UAiXbhYvIjAl8fHfx4rD3l/W7Hrh+P831tAu318nmkwyGJWqH1F5PXkYLMqUOgZf5j5Acvns7qZD6tEySahr7OxkhUJ8tpnSDRNPR1NkaiOllO6wSJpqGvszES1clyWidINA19nY2RqE6W0zpBomno62yMRHWynNYJEk1DX2djJKqT5bROkGga+jobI1GdLKd1gkTT0NfZGInqZDmtEySahr7OxkhUJ8tpnSDRNPR1Nh59o36djjc6ub0p/dfG6U+H1/+AWdd8OiF4gEciwdCjW0aiaKKC9ZBIMPTolpEomqhgPSQSDD26ZSSKJipYD4kEQ49uGYmiiQrWQyLB0KNbRqJoooL1kEgw9OiWkSiaqGA9JBIMPbplJIomKlgPiQRDj24ZiaKJCtZDIsHQo1tGomiigvWQSDD06JaRKJqoYD0kEgw9umUkiiYqWA+JBEOPbhmJookK1kMiwdCjW0aiaKKC9ZBIMPTolpEomqhgPSQSDD26ZSSKJipYD4kEQ49uGYmiiQrWQyLB0KNbRqJoooL1pl1ub+/l7bKzaZ//vmuLNv90Pp9PuxYlTW6X/vvZeL4lle+W5ZGoi4gJPQJI1CPE+S4BJOoiYkKPABL1CHG+SwCJuoiY0COARD1CnO8SQKIuIib0CCBRjxDnuwSQqIuICT0CSNQjxPkuASTqImJCj8DMv529tTu3fj3Fbe/f8vioKouNRyJjwchJAImc4FhmBJDIWDByEkAiJziWGQEkMhaMnASQyAmOZUYAiYwFIycBJHKCY5kRQCJjwchJAImc4FhmBJDIWDByEkAiJziWGQEkMhaMnASQyAmOZUYAiYwFIycBJHKCY5kRQCJjwchJAImc4FhmBJDIWDByEkAiJziWGQEkMhaMnASQyAmOZUYAiYwFIycBJHKCY5kRQCJjwchJAImc4FhmBJDIWDByEkAiJziWGQEkMhaMnASQyAmOZUYAiYwFIycBJHKCY5kRQCJjwchJAImc4FhmBKZdbs/uwvOM2iX0/uy4N+875paeikS3eG+fF/ZWOu2k5ng6SwKrVBaJlNJO6hWJksAqlUUipbSTekWiJLBKZZFIKe2kXpEoCaxSWSRSSjupVyRKAqtUFomU0k7qFYmSwCqVRSKltJN6RaIksEplkUgp7aRekSgJrFJZJFJKO6lXJEoCq1QWiZTSTuoViZLAKpVFIqW0k3odfaN+ex/75Zp0Hyj7pASWZXkZuWtDErVip5FizNEkwNOZZu6hXSNRKE7NYkikmXto10gUilOzGBJp5h7aNRKF4tQshkSauYd2vf6e6NIuqfJ6V/V7G7/ffc8QAv8l8A/RFE7lrzgAJAAAAABJRU5ErkJggg=="},caad:function(t,e,s){"use strict";var n=s("23e7"),c=s("4d64").includes,a=s("44d2");n({target:"Array",proto:!0},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},d833:function(t,e,s){"use strict";s("ffe1")},dd27:function(t,e,s){t.exports=s.p+"img/logo_ebiodiv_small.2a380f8c.png"},e9cb:function(t,e,s){},fdce:function(t,e,s){"use strict";s("6aba")},ffe1:function(t,e,s){}}]);
//# sourceMappingURL=home~occurrence~occurrenceList.9df95b20.js.map